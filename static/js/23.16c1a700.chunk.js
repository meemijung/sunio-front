(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[23,30],{1053:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var c=a(1427),s=a(1957),n=a(99),o=a(67),l=a(1),i=a(11),r=a.n(i),b=(a(965),a(273)),d=a(940),u=a(941),j=a(4),p=a(62),O=a(8),g=a(18),m=a(0),f=a(35),h=a(920),x=a(921),v=a(915),w=a(170),y=a(98),S=a(3);let{tokens:_}=j.default;const A=2;function P(e){const{curveConfig:t,initParams:a}=e,{busd2PoolPools:i,busd2PoolIndex:j,busdUsdPoolIndex:P,busdusdPools:N,busd2PoolKeys:k,busdusdPoolKeys:L,busd2PoolContracts:C,curveLPSymbol:T,twoPoolUsdLpKey:D}=t,{usdcSwap:B}=C,[I,U]=Object(l.useState)(0),[F,z]=Object(l.useState)(1),[M,V]=Object(l.useState)(1),[H,E]=Object(l.useState)(1),[K,R]=Object(l.useState)(-1),[J,Z]=Object(l.useState)(1),[q,W]=Object(l.useState)(.005),[Y,X]=Object(l.useState)(""),[Q,G]=Object(l.useState)(!0),[$,ee]=Object(l.useState)(""),[te,ae]=Object(l.useState)(!1),ce=(Object(n.a)(window.navigator).any,Object(o.d)((()=>p.default.network))),se=Object(o.d)((()=>p.default.system)),ne=Object(o.d)((()=>Object(f.d)({Stores:p.default,poolType:D,baseStoreName:"busdPool"}))),[oe,le]=Object(l.useState)(!1),[ie,re]=Object(l.useState)(!1),[be,de]=Object(l.useState)(ne.poolData1),[ue,je]=Object(l.useState)(j);Object(l.useEffect)((()=>{ne.initPage(a),ge({i:I,j:M,dx:F,checked:ie})}),[]),Object(l.useEffect)((()=>{ie?(de(ne.poolData2),je(P)):(de(ne.poolData1),je(j))}),[ie,ne.poolData1,ne.poolData2]);const pe=()=>{try{let e=I,t=M;return te&&([e,t]=[t,e]),Object(S.jsx)(S.Fragment,{children:_[ue[e]].symbol+"/"+_[ue[t]].symbol})}catch(e){return Object(S.jsx)(S.Fragment,{})}},Oe=e=>{let{...t}=e;ae(!te),me({...t,exchangeFlags:!te,checked:ie})},ge=async e=>{let{...t}=e;try{let e=void 0===t.i?I:t.i,a=void 0===t.j?M:t.j,c=void 0===t.dx?F:t.dx,s=t.checked?P:j,n=t.checked?N:i;if(!Object(m.cb)(c).gt(0))return void E(0);let o=Object(m.cb)(c).times(n[s[e]].precision)._toIntegerDown()._toHex(),l=null;if(l=t.checked?await Object(O.S)(e,a,o,B):await Object(O.nb)(e,a,o,B),l.success){let e=Object(m.a)(l.value).div(n[s[a]].precision);E(Object(m.c)(Object(m.a)(e)._toFixed(n[s[a]].decimal,1))),Z(Object(m.a)(l.value))}else E(0),Z(1);t.notChangeRate||me({i:e,j:a,dx:c,checked:t.checked})}catch(a){console.log("getDyData: ",a)}},me=async e=>{let{...t}=e;try{let e=void 0===t.i?I:t.i,a=void 0===t.j?M:t.j,c=void 0===t.dx?F:t.dx,s=void 0===t.exchangeFlags?te:t.exchangeFlags,n=t.checked?P:j,o=t.checked?N:i,l=Object(m.cb)(c).times(o[n[e]].precision)._toIntegerDown()._toHex(),r=null;if(!Object(m.cb)(c).gt(0))return;if(r=t.checked?await Object(O.S)(e,a,l,B):await Object(O.nb)(e,a,l,B),r.success){let e=Object(m.a)(r.value).div(o[n[a]].precision).div(Object(m.cb)(c));R(s?Object(m.a)(1).div(Object(m.a)(e)._toFixed(4,1))._toFixed(4,1):e._toFixed(4,1))}}catch(a){console.log("getRateData: ",a)}},fe=e=>{let t=ie?N:i,a=I;Number(e)!==Number(M)&&(a=M),V(a),U(e);let c=Object(m.cb)(F)._toFixed(t[ue[e]].decimal,1);z(Object(m.c)(c)),ge({i:e,j:a,dx:c,checked:ie})},he=e=>{let t=ie?N:i,a=M;Number(e)!==Number(I)&&(a=I),U(a),V(e);let c=Object(m.cb)(F)._toFixed(t[ue[a]].decimal,1);z(Object(m.c)(c)),ge({j:e,i:a,dx:c,checked:ie})},xe=e=>{!oe&&le(!0);let t=ie?N:i;const{valid:a,str:c}=Object(m.T)((""+e).replace(/,/g,""),t[ue[I]].decimal);let s=be&&be[ue[I]]&&Object(m.a)(be[ue[I]].balance).div(t[ue[I]].precision)._toFixed(2,1);if(a){if(Object(m.a)(c).lte(0))return z(Object(m.c)(c)),E(0),void ee(r.a.get("buysell.error_msg_1"));Object(m.a)(c).gt(s)&&ee(r.a.get("buysell.error_msg_2")),z(Object(m.c)(c)),ge({dx:c,checked:ie})}},ve=e=>{try{let t="--";return t=e[ue[I]].balance,t=Object(m.a)(t).isNaN()?"--":e[ue[I]].balance.div(e[ue[I]].precision),Object(S.jsx)("span",{children:e&&Object(m.u)(t)})}catch(t){}},we=()=>{try{let{precision:e,balance:t,symbol:a}=be[ue[I]];return t=Object(m.a)(t).div(e),Object(m.cb)(F).eq(0)||Object(m.cb)(F).isNaN()?(ee(r.a.get("error.e1")),!0):Object(m.cb)(F).gt(t)?(ee(r.a.get("error.e2",{token:a})),!0):2===q&&(!Y||Number(Y)<.1||Number(Y)>50)?(ee(r.a.get("error.e5")),!0):(ee(""),!1)}catch(e){return!1}};Object(l.useEffect)((()=>{oe&&we()}),[I,M,F,q,Y]);const ye=()=>{let e=ie?N:i,t=be&&Object(m.a)(be[ue[I]].balance).div(e[ue[I]].precision);xe(t)},Se=()=>{const e=Object(y.useCurrentTheme)();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{children:Object(S.jsx)(c.a,{checked:ie,onChange:async e=>{let t=e.target.checked,a=t?P:j;re(t);let c=0,s=1,n=Object(m.cb)(F);var o,l;(t||(c=2,s=0),t)?"--"===(null===(o=ne.poolData2[a[c]])||void 0===o?void 0:o.balance)&&(await ne.getBalanceInfo(B,L,"2usdlp"),de(ne.poolData2),je(P)):"--"===(null===(l=ne.poolData1[a[c]])||void 0===l?void 0:l.balance)&&(await ne.getBalanceInfo(B),de(ne.poolData1),je(j));U(c),V(s),z(Object(m.c)(n)),ge({i:c,j:s,dx:n,checked:t,notChangeRate:!0}),me({no:1,i:c,j:s,dx:n,checked:t})},children:r.a.get("buysell.".concat("2Pool_2"===D?"2Pool_2lp_swap":"2usdlp_swap"))})}),Object(S.jsxs)("div",{className:"exchang-rate-text mt-20",children:[Object(S.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[r.a.get("buysell.exchange_rate",{symbol:"3Pool LP"})+" ",Object(S.jsx)(pe,{})]}),Object(S.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},alt:"",src:"dark"===e?d.a:u.a,onClick:Oe}),"(",Object(S.jsxs)("span",{children:[r.a.get("buysell.including_fees"),"): ",-1===K?r.a.get("buysell.not_available"):K]})]})]})},_e=()=>Object(S.jsx)(S.Fragment,{children:$?Object(S.jsx)(v.a,{styleName:"mt-40",type:"single",disabled:!0,info:r.a.get("sell_btn")}):Object(S.jsx)(v.a,{styleName:"mt-40",type:"single",info:r.a.get("sell_btn"),onClick:async()=>{const t=async()=>{if(!$)try{var t,a;let c=2!==q?q:Y?Object(m.a)(Y).div(100):0,s=Object(m.a)(J).times(Object(m.a)(1).minus(Object(m.a)(c)))._toIntegerDown()._toHex(),n=I,o=M,l=ie?N:i,r=Object(m.cb)(F).times(l[ue[n]].precision)._toIntegerDown()._toHex();const b={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(m.u)(Object(m.cb)(F)),fromToken:null===(t=_[ue[n]])||void 0===t?void 0:t.symbol,toValue:Object(m.u)(Object(m.cb)(H)),toToken:null===(a=_[ue[o]])||void 0===a?void 0:a.symbol}};let d="";d=ie?await se.toExchangeUsdcNew(n,o,r,s,b,[["pool/updateCurrencyData"]],B):await se.toUsdcExchange(n,o,r,s,b,[["pool/updateCurrencyData"]],B),d&&(setTimeout((()=>{ie?ne.getBalanceInfo(B,L,"2usdlp"):ne.getBalanceInfo(B)}),5e3),e.onSubmit&&e.onSubmit(d))}catch(c){console.log("sellSubmit: ",c)}};if(!ce.isConnected)return void ee(r.a.get("buysell.error_msg_3"));if(!oe&&le(!0),!$){if(we())return}if($)return;let a=ie?N:i;try{let e=(await Object(O.Tb)(window.defaultAccount,[a[ue[I]].token],[B]))[B].allowance;const{approveStatus:c}=be[ue[I]];if(e.gt(0)||c)t();else{const e={action:"approve",title:"deposit.approve_token",obj:{value:_[(ie?L:k)[I]].symbol},continuous:!0};let c=a[ue[I]].token;if(!await se.approveToken(c,B,e,[["pool/getBalanceInfo"]]))return;be[ue[I]].approveStatus=2,t()}}catch(c){console.log("exchangeBefore: ",c)}}})}),Ae=e=>{!oe&&le(!0),W(e),2!==e&&X("")},Pe=e=>{!oe&&le(!0);const{valid:t,str:a}=Object(m.T)(e,10);if(t)if(""===a)X("");else if(Object(m.a)(a).lte(100)){var c;let e=a,t=a.split(".");(null===(c=t[1])||void 0===c?void 0:c.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),X(e)}},Ne=e=>{let{direction:t="left"}=e,a=ie?L:k,c=ie?N:i;return Object(S.jsx)("div",{className:"flex start mb-16 pc-input-box",children:a.map((e=>{const a="2usdlp"===e||"2Pool_2"===e?g.b[T]?g.b[T]:b.default:g.b[e]?g.b[e]:b.default,s="left"===t?I:M;return Object(S.jsx)(h.a,{id:e,checked:s===c[e].index,tokenLogo:a,symbol:c[e].symbol,onChange:(a,s)=>{"left"===t?fe(c[e].index):he(c[e].index)}})}))})},ke=()=>Object(S.jsx)("span",{className:"exchange-alt",onClick:()=>(()=>{!oe&&le(!0);let e=I,t=M,a=H;e!==t&&(U(t),V(e),z(a),ge({i:t,j:e,dx:a,notChangeRate:!0,checked:ie}),me({no:1,i:t,j:e,dx:a,checked:ie}))})()}),Le=Object(w.default)(w.isMobileOnlyMedia);return Object(S.jsx)(o.a,{children:()=>Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"exchange-box",children:[Object(S.jsx)(Ne,{direction:"left"},"left"),Object(S.jsxs)("div",{className:"input-block",children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("div",{className:"input-number",children:Object(S.jsx)(s.a,{className:"input",value:F,onChange:e=>xe(e.target.value)})}),Object(S.jsx)("span",{className:"max-btn",onClick:ye,children:r.a.get("sunSwapV3.swap.input_from_max")})]}),Object(S.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(S.jsx)("span",{children:r.a.get("sunSwapV3.swap.input_from_balance")})," ",ve(be)]})]}),Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)(ke,{}),!Le&&Object(S.jsx)("div",{className:"flex start",children:Object(S.jsx)(x.a,{type:"exchange",slippage:q,customSlippage:Y,CUSTOM_SLIPPAGE:A,onChangeSlippage:e=>{Ae(Number(e))},onChangeCustomSlippage:e=>{W(2),Pe(e)}})})]}),Object(S.jsx)(Ne,{direction:"right"},"right"),Object(S.jsxs)("div",{className:"input-block",children:[Object(S.jsx)("div",{className:"input-number",children:Object(S.jsx)(s.a,{disabled:!0,className:"input",value:H})}),Object(S.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(S.jsx)("span",{children:r.a.get("sunSwapV3.swap.input_from_balance")})," ",ve(be)]})]}),Object(S.jsx)(Se,{}),Le&&Object(S.jsx)("div",{className:"flex start",children:Object(S.jsx)(x.a,{type:"exchange",slippage:q,customSlippage:Y,CUSTOM_SLIPPAGE:A,onChangeSlippage:e=>{Ae(Number(e))},onChangeCustomSlippage:e=>{W(2),Pe(e)}})})]}),Object(S.jsx)(_e,{}),$&&Object(S.jsx)("div",{className:"error-content mt-12",children:Object(S.jsx)("div",{className:"error-tip",children:$})})]})})}},1054:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),o=a(12),l=a(67),i=a(1320),r=a(1322),b=a(1427),d=a(273),u=(a(971),a(936),a(18)),j=a(0),p=a(4),O=a(62),g=a(913),m=a(924),f=(a(932),a(968)),h=a(919),x=a(915),v=a(8),w=a(109),y=a(35),S=a(974),_=a(914),A=a(918),P=a(917),N=a(927),k=a(933),L=a(311),C=a(3);const{usdcInfo:T,defaultSlippage:D,busdCommonPools:B,tokens:I}=p.default,{ALL_FEE:U}=T,F=e=>{const t={};return e.map((e=>{t[e]=""})),t};t.a=e=>{const t=Object(l.d)((()=>O.default.network)),a=Object(l.d)((()=>O.default.system)),{curveConfig:s,initParams:T,pageList:z,tabPaneKey:M}=e;let{busd2PoolPools:V,busdusdPools:H,busd2PoolKeys:E,busdusdPoolKeys:K,busd2PoolContracts:R,curveSymbol:J,curveLPSymbol:Z,twoPoolUsdLpKey:q="2usdlp",busd2Pool_2CommonPools:W}=s,{USDCDepositer:Y,usdcSwap:X,stablePool:Q}=R;I[q].symbol,I[q].token;const G="2Pool_2"===q,$=Object(l.d)((()=>Object(y.d)({Stores:O.default,poolType:q,baseStoreName:"busdPool"}))),ee=Object(l.d)((()=>Object(y.d)({Stores:O.default,poolType:q,baseStoreName:"usd2Pool"}))),[te,ae]=Object(c.useState)(!1),[ce,se]=Object(c.useState)(!0),[ne,oe]=Object(c.useState)(!1),[le,ie]=Object(c.useState)(!0),[re,be]=Object(c.useState)(!1),[de,ue]=Object(c.useState)("--"),[je,pe]=Object(c.useState)("--"),[Oe,ge]=Object(c.useState)(!1),[me,fe]=Object(c.useState)(!1),[he,xe]=Object(c.useState)(!1),[ve,we]=Object(c.useState)($),[ye,Se]=Object(c.useState)(E),[_e,Ae]=Object(c.useState)(V),[Pe,Ne]=Object(c.useState)((()=>F(E))),[ke,Le]=Object(c.useState)((()=>F(K))),[Ce,Te]=Object(c.useState)(Pe);let De=null,Be=null;window.localStorage.getItem("lang");const Ie=G?W:B;Object(c.useEffect)((()=>{ne?(we(ee),Se(K),Te(ke),Ae(H)):(we($),Se(E),Te(Pe),Ae(V))}),[ne]),Object(c.useEffect)((async()=>{await Promise.all([Ke(Ce),ze()]),Oe&&He(Ce)}),[Ce]);const Ue=async()=>{if(ne)return{success:!0,value:Ce[q]?Object(j.cb)(Ce[q]).times(_e[q].precision):Object(j.a)(0)};try{const e=[];for(let t in Ie){const{index:a,precision:c}=Ie[t];e[a]=Object(j.cb)(Ce[t]).isNaN()?0:Object(j.cb)(Ce[t]).times(c)._toIntegerDown()._toHex()}return await Object(v.h)(Q,e)}catch(e){return{success:!1}}},Fe=async c=>{try{e.onSubmit&&e.onSubmit();const s=[];ye.map((e=>{s.push({...ve.poolData[e],inputValue:c[e]?Object(j.cb)(c[e]).times(_e[e].precision):Object(j.a)(0)})}));let n="".concat(Object(y.a)({poolType:q}),"/getBalanceInfo"),o=Y;ne&&(n="".concat(Object(y.f)({poolType:q}),"/getBalanceInfo"),o=X);for(let e=0;e<s.length;e++){let{allowance:c=Object(j.a)(0),inputValue:l,token:i,symbol:r,approveStatus:b,id:d}=s[e];if(console.log("approveAddress",d,c,"allowance",l,c.toFixed(),b,s),Object(w.a)({txid:"".concat(d,"_").concat(c.toFixed(),"_").concat(l.toFixed(),"_").concat(b),category:"debug_busd",waddr:t.defaultAccount}),Object(j.a)(c).lt(l)&&!b){if(!await a.approveToken(i,o,{title:"deposit.approve_token",obj:{value:r},continuous:!0},[[n]]))return;ve.poolData[d].approveStatus=2}}const l=s.sort(((e,t)=>e.index-t.index)),i=l.length,r=l.map((e=>e.inputValue._toIntegerDown()._toHex()))||[];let b=null;if(ve.lpTotalSupply.lte(0)&&await ve.getSwapBalance(),ve.lpTotalSupply.lte(0)){const e=await Ue();if(!e.success)return;b=e.value.div(1e18).plus(Object(j.cb)(c[J]||0))}else{let e={};if(e=ne?await Object(v.g)(r,!0,X):await Object(v.f)(r,!0,Y),!e.success)return;b=e.value}b=b.times(Object(j.a)(1).minus(Object(j.a)(U).times(i).div(Object(j.a)(4).times(i-1)).div(1e10)));const d=b.times(1-D)._toIntegerDown()._toHex();let u;if(ne){const e={title:"actions.addLiq",obj:{detail:G?Object(S.a)(c,Z):Object(j.A)(c,Z)},forTransitionModal:{title:"banner.title_deposit",symbols:G?Object(S.a)(c,Z):Object(j.A)(c,Z)}};u=await a.addLiquidityBUSDBy2USD(r,X,d,e,[["".concat(Object(y.f)({poolType:q}),"/updateCurrencyData")]])}else{const e={title:"actions.addLiq",obj:{detail:G?Object(S.a)(c,J+"lp"):Object(j.A)(c,J+"lp")},forTransitionModal:{title:"banner.title_deposit",symbols:G?Object(S.a)(c,J+"lp"):Object(j.A)(c,J+"lp")}};u=await a.addLiquidityBUSD(r,Y,d,e,[["".concat(Object(y.a)({poolType:q}),"/updateCurrencyData")]])}u&&We()}catch(s){console.log("deposit err: ",s)}},ze=async()=>{try{const e=[];let t=!1;for(let c in Ce){const{index:a,precision:s}=_e[c];e[a]=Object(j.cb)(Ce[c]).isNaN()?0:Object(j.cb)(Ce[c]).times(s)._toIntegerDown()._toHex(),Object(j.a)(e[a]).gt(0)&&(t=!0)}if(!t)return void pe(Object(j.a)(0));let a=null;if(ve.lpTotalSupply.lte(0)&&await ve.getSwapBalance(),ve.lpTotalSupply.lte(0)){const e=await Ue();if(!e.success)return;a=e.value.div(1e18).plus(Object(j.cb)(Ce[J]))}else{let t={};if(t=ne?await Object(v.g)(e,!0,X):await Object(v.f)(e,!0,Y),!t.success)return;a=t.value.div(1e18)}pe(a)}catch(e){console.log(e)}},Me=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(ee.getSwapBalance(),ee.getVirtualPriceBUSD(X),ee.getVolData(),ee.getPoolInfo()):($.getSwapBalance(),$.getVirtualPriceBUSD(X),$.getVolData(),$.getPoolInfo())},Ve=async function(){const e={};arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(await ee.getSwapBalance(),ee.getUserLp(),await ee.getBalanceInfo(),K.map((t=>{const{precision:a,balance:c,decimal:s}=ee.poolData[t];e[t]=Object(j.c)(Object(j.a)(c).div(a)._toFixed(s,1))})),Le(e)):(await $.getSwapBalance(),$.getUserLp(),await $.getBalanceInfo(),E.map((t=>{const{precision:a,balance:c,decimal:s}=$.poolData[t];e[t]=Object(j.c)(Object(j.a)(c).div(a)._toFixed(s,1))})),Ne(e),Te(e)),ie(!1),Te(e),!Oe&&ge(!0),De||(De=setInterval((async()=>{Me(),$.getUserLp()}),t.defaultIntervalSec))};Object(c.useEffect)((()=>{!Be&&ne&&(Be=setInterval((async()=>{Me(!0),await ee.getUserLp()}),t.defaultIntervalSec))}),[ne]),Object(c.useEffect)((()=>{const e=Object(o.p)((()=>t.defaultAccount),(()=>{Ve(),Me()}));return()=>{e()}}),[]),Object(c.useEffect)((()=>{$.resetData(),ee.resetData()}),[]),Object(c.useEffect)((()=>($.initPage(T),ee.initPage(T),Ve(),Me(),()=>{clearInterval(De),clearInterval(Be)})),[t.defaultAccount]);const He=e=>{const t=Object.keys(e),a=t.length;if(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e),a=t.filter((t=>Object(j.cb)(e[t]).eq(0)||!e[t]));return t.length===a.length}(e))return be(n.a.get("error.e1")),!0;for(let c=0;c<a;c++){const a=t[c],s=e[a];if(!s&&(te||ce))return be(n.a.get("error.e1")),!0;if(ve.poolData[a]){const{balance:e,precision:t,symbol:c}=ve.poolData[a];if(Object(j.a)(e).div(t).lt(Object(j.cb)(s)))return be(n.a.get("error.e2",{token:c})),!0}}return be(!1),!1},Ee=e=>{xe(e.target.checked)},Ke=async e=>{const t=await ve.calcInclPrice(e);ue(t)},Re=async(e,t)=>{try{const a=t,c={};c[e]=Object(j.c)(a);const{precision:s,swapBalance:n,balance:o}=ve.poolData[e],{sun3LpBalance:l,sun3TotalSupply:i,balancesUsdc:r}=ve.swapBalanceInfo,b=Object(j.cb)(a).div(n).isNaN()?Object(j.a)(0):Object(j.cb)(a).div(n);if(e===J){if(ne){const{swapBalance:e,decimal:t}=ve.poolData[q];return c[q]=Object(j.c)(e.times(b)._toFixed(t,1)),Te(c)}const t=ye.filter((t=>t!==e)),a=b.times(l).div(i);return t.map((e=>{const{balance:t=Object(j.a)(0),swapBalance:s,precision:n,decimal:o}=ve.poolData[e];c[e]=Object(j.c)(a.times(s)._toFixed(o,1)),t.div(n).lt(Object(j.cb)(c[e]))&&(c[e]=Object(j.c)(t.div(n)._toFixed(o,1)))})),Te(c)}const d=ye.filter((t=>t!==e&&t!==J)),u={[e]:Object(j.c)(a)};d.map((e=>{const{balance:t=Object(j.a)(0),swapBalance:a,precision:c,decimal:s}=ve.poolData[e];u[e]=Object(j.c)(b.times(a)._toFixed(s,1)),t.div(c).lt(u[e])&&(u[e]=Object(j.c)(t.div(c)._toFixed(s,1)))}));let O=Object(j.a)(0);if(ne)t&&(O=Object(j.cb)(t).times(_e[q].precision));else{const e=[];for(let a in u){const{index:t,precision:c}=Ie[a];e[t]=Object(j.cb)(u[a]).isNaN()?0:Object(j.cb)(u[a]).times(c)._toIntegerDown()._toHex()}const t=await Object(v.h)(Q,e);if(!t.success)return;O=t.value}const g=Object(j.a)(O).div(Object(j.a)(l).times(p.default.defaultVotePrecision)),m=ve.poolData[J],f=g.isNaN()?0:g.times(r)._toFixed(m.decimal,1);c[J]=m.balance.div(m.precision).lt(f)?Object(j.c)(m.balance.div(m.precision)._toFixed(m.decimal,1)):Object(j.c)(f),Te({...c,...u})}catch(a){console.log(a)}},Je=async e=>{try{const t=e.target.checked;ae(t),ce&&se(!t),t&&Re(ye[0],Object(j.cb)(Ce[ye[0]]))}catch(t){console.log(t)}},Ze=async e=>{try{const t=e.target.checked;se(t),te&&ae(!t);const a={};ye.map((e=>{const{balance:t=Object(j.a)(0),precision:c,decimal:s}=ve.poolData[e];a[e]=Object(j.a)(t).isNaN()?0:Object(j.c)(t.div(c)._toFixed(s,1))})),Te(a)}catch(t){console.log(t)}},qe=async e=>{try{const t=e.target.checked;oe(t),ae(!1),se(!0),e.target.checked?clearInterval(De):clearInterval(Be),Me(e.target.checked),Ve(e.target.checked)}catch(t){console.log(t)}},We=()=>{xe(!1),fe(!1)},Ye=Object(L.b)();return Object(C.jsx)(l.a,{children:()=>Object(C.jsxs)(i.a,{...A.a.row,children:[Object(C.jsxs)(r.a,{...A.a.colLeft,children:[Object(C.jsx)(_.a,{list:z,activeKey:M[0]}),Object(C.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(g.a,{routeName:"usdc/deposit",mountedActions:Ve,instantActions:Me}),Object(C.jsx)(m.a,{title:n.a.get("buysell.busd_2pool")+" "+n.a.get("banner.title_deposit"),desc:n.a.get("banner.desc_deposit")}),Object(C.jsx)(h.a,{})]}):null,t.isConnected?Object(C.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(C.jsxs)("div",{className:"add-liq",children:[Object(C.jsx)("fieldset",{className:"currencies",children:Object(C.jsx)("ul",{children:ye.map((e=>{let{symbol:t="",balance:a="--",precision:c,decimal:s}=ve.poolData[e];return a=Object(j.a)(a).div(c),Object(C.jsxs)("li",{children:[Object(C.jsxs)("div",{className:"cur-label",children:[Object(C.jsxs)("span",{className:"icon",children:[e===q?Object(C.jsx)("img",{src:u.b[Z]?u.b[Z]:d.default,alt:"",className:"token-logo"}):Object(C.jsx)("img",{src:u.b[e]?u.b[e]:d.default,alt:"",className:"token-logo"})," ",t]}),Object(C.jsx)("span",{className:"token-max",children:n.a.getHTML("deposit.token_max",{balance:Object(j.u)(a)})})]}),Object(C.jsx)(N.a,{value:Ce[e],onChange:t=>((e,t)=>{ce&&se(!1);const{decimal:a}=_e[t],{valid:c,str:s}=Object(j.T)((""+e.target.value).replace(/,/g,""),a);c&&(Te({...Ce,[t]:Object(j.c)(s)}),te&&Re(t,s))})(t,e),onMaxClick:()=>{((e,t,a)=>{if(Object(j.a)(t).isNaN())return;const c=Object(j.a)(t)._toFixed(a,1);Te({...Ce,[e]:Object(j.c)(c)}),te&&Re(e,c)})(e,a,s)}})]},e)}))})}),!Object(j.a)(de).isNaN()&&Object(j.X)(de,!0),Object(C.jsxs)("div",{className:"deposit-check",children:[Object(C.jsx)(b.a,{checked:te,disabled:le,onChange:Je,children:n.a.get("deposit.ch1")}),Object(C.jsx)("br",{}),Object(C.jsx)(b.a,{checked:ce,disabled:le,onChange:Ze,children:n.a.get("deposit.ch2")}),Object(C.jsx)("br",{}),Object(C.jsx)(b.a,{checked:ne,disabled:le,onChange:qe,children:n.a.get("2usdlp"===q?"deposit.ch5":"deposit.ch6")})]}),re?Object(C.jsx)(x.a,{styleName:"mt-40",type:"single",disabled:!0,info:n.a.get("deposit.action")}):Object(C.jsx)(x.a,{styleName:"mt-40",type:"single",info:Ye?n.a.get("not_available"):n.a.get("deposit.action"),onClick:()=>(async e=>{try{if(!re&&He(e))return;if(re)return;if(Object(j.a)(de).abs().gt(10))return fe(!0);await Fe(e)}catch(t){console.log(t)}})(Ce),disabled:Ye}),re&&Object(C.jsx)("div",{className:"error-content mt-12",children:Object(C.jsx)("div",{className:"error-tip",children:re})}),Object(j.a)(je).gt(0)&&Object(C.jsxs)("div",{className:"error-content mt-12",children:[Object(C.jsxs)("div",{className:"error-tip",children:[n.a.getHTML("deposit.swap_detail",{value:Object(j.u)(je,2),symbol:"".concat(J.toUpperCase()," ").concat("2Pool_2"===q?"2Pool_2":"2USD"," LP")})," "]}),Object(C.jsx)("div",{className:"error-tip",children:n.a.get("deposit.exchange_rate",{value:Object(j.u)(ve.virtualPrice,6),symbol:"".concat(J.toUpperCase()," ").concat("2Pool_2"===q?"2Pool_2":"2USD"," LP")})})]})]})}):Object(C.jsx)(P.a,{}),Object(C.jsx)(k.a,{confirmSlippageCheck:he,onChangeConfirmSlippageCheck:Ee,open:me,closable:!0,onCancel:We,onOk:()=>Fe(Ce),value:Object(j.u)(Object(j.a)(de).abs(),3),okText:n.a.get("deposit.anyway")})]})]}),Object(C.jsx)(r.a,{...A.a.colRight,children:Object(C.jsx)(f.a,{type:ne?"2usdlp":J,curveConfig:s})})]})})}},1055:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),o=a(1320),l=a(1322),i=a(318),r=a(896),b=a(273),d=a(67),u=a(62),j=a(18),p=a(4),O=a(8),g=a(0),m=a(968),f=a(913),h=a(924),x=(a(932),a(919)),v=a(35),w=a(974),y=a(920),S=a(915),_=a(921),A=a(914),P=a(917),N=a(927),k=a(3);let{usdcInfo:L,tokens:C}=p.default;const{ALL_FEE:T}=L,D="---",B="CUSTOM";t.a=e=>{const t=Object(d.d)((()=>u.default.system)),a=Object(d.d)((()=>u.default.network)),{curveConfig:s,initParams:p,pageList:L,tabPaneKey:I}=e;let{busd2PoolPools:U,busdusdPools:F,busd2PoolKeys:z,busdusdPoolKeys:M,busd2PoolContracts:V,curveSymbol:H,curveLPSymbol:E,twoPoolUsdLpKey:K="2usdlp"}=s;const R=Object(d.d)((()=>Object(v.d)({Stores:u.default,poolType:K,baseStoreName:"busdPool"}))),J=Object(d.d)((()=>Object(v.d)({Stores:u.default,poolType:K,baseStoreName:"usd2Pool"}))),Z=Object(v.f)({poolType:K}),q=Object(v.a)({poolType:K}),W="2Pool_2"===K;let{USDCDepositer:Y,usdcSwap:X,stablePool:Q}=V;const G=C["".concat(H).concat("2Pool_2"===K?"2Pool_2":"2poollp")].token,$="2Pool_2"===K?"2Pool_2LP":"2USDLP",ee="".concat(H).concat($),te=C["2Pool_2"===K?"2Pool_2":"2usdlp"].symbol,ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={};return z.map((a=>{t[a]=e})),t},[ce=ae("--"),se]=Object(c.useState)(),[ne,oe]=Object(c.useState)("100.00"),[le,ie]=Object(c.useState)(.2),[re,be]=Object(c.useState)(""),[de,ue]=Object(c.useState)(!0),[je,pe]=Object(c.useState)(!1),[Oe,ge]=Object(c.useState)("--"),[me,fe]=Object(c.useState)(!1),[he=ae(!1),xe]=Object(c.useState)(),[ve,we]=Object(c.useState)(!1),[ye,Se]=Object(c.useState)(!1),[_e,Ae]=Object(c.useState)(z),[Pe,Ne]=Object(c.useState)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={};return M.map((a=>{t[a]=e})),t}("--"));let ke=null,Le=null;Object(c.useEffect)((async()=>{ye&&Ce()}),[ce,ne,le,re,he]),Object(c.useEffect)((()=>{Ze(ce,je)}),[ce]),Object(c.useEffect)((()=>{qe(Pe,je)}),[Pe]);const Ce=()=>ne!==D&&Object(g.cb)(ne).gt(100)?(we(n.a.get("error.e3")),!0):(()=>{const e=me?Pe:ce;for(let t in e)if(Object(g.cb)(e[t]).gt(0)||"--"===e[t])return!1;return!0})()?(we(n.a.get("error.e4")),!0):le===B&&(Ie()||ne===D)&&(Object(g.a)(re).lt(.1)||Object(g.a)(re).gt(50)||Object(g.a)(re).isNaN())?(we(n.a.get("error.e5")),!0):(we(!1),!1),Te=async(e,a)=>{try{const c=e.length,s=e.map((e=>e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()))||[];if(me){const e=await Object(O.g)(s,!1,X);if(!e.success)return;let n=e.value.times(Object(g.a)(1).plus(Object(g.a)(T).times(c).div(4*(c-1)).div(1e10)));const o=Object(g.a)(100).plus(a).div(100);if(n=n.times(o)._toIntegerDown(),Object(g.a)(n).gt(R.swapBalanceInfo.userUsdcLpBalance)&&(n=R.swapBalanceInfo.userUsdcLpBalance),de&&Object(g.a)(R.userLpAllowance).lt(n)){if(!await t.approveToken(G,X,{title:"deposit.approve_token",obj:{value:ee},continuous:!0},[["".concat(Z,"/getUserLp")]]))return;ue(!1)}const l=n._toHex(),i={title:"actions.remove",obj:{detail:W?Object(w.a)(Pe,E):Object(g.A)(Pe,E)},forTransitionModal:{title:"banner.title_withdraw",symbols:W?Object(w.a)(Pe,E):Object(g.A)(Pe,E)}};await t.removeLiqImBalanceBUSD2USD(X,s,l,i,[["".concat(Z,"/updateCurrencyData")]]);return}const n=await Object(O.f)(s,!1,Y);if(!n.success)return;let o=n.value.times(Object(g.a)(1).plus(Object(g.a)(T).times(c).div(4*(c-1)).div(1e10)));const l=Object(g.a)(100).plus(a).div(100);if(o=o.times(l)._toIntegerDown(),Object(g.a)(o).gt(R.swapBalanceInfo.userUsdcLpBalance)&&(o=R.swapBalanceInfo.userUsdcLpBalance),de&&Object(g.a)(R.userLpAllowance).lt(o)){if(!await t.approveToken(G,Y,{title:"deposit.approve_token",obj:{value:te},continuous:!0},[["".concat(q,"/getUserLp")]]))return;ue(!1)}const i=o._toHex(),r={title:"actions.remove",obj:{detail:W?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")},forTransitionModal:{title:"banner.title_withdraw",symbols:W?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")}};await t.removeLiqImBalanceBUSD(Y,s,i,r,[["".concat(q,"/updateCurrencyData")]])}catch(c){console.log("removeLiqImBalance",c)}},De=async(e,a)=>{try{if(me){const c=await Me(a,e,ne);if(!c)return;const{userLpBalance:s,userLpAllowanceUsdcSwap:n,minAmounts:o}=c,l=Object(g.cb)(ne).div(100).times(s)._toIntegerDown();if(de&&Object(g.a)(n).lt(l._toIntegerDown())){if(!await t.approveToken(G,X,{title:"deposit.approve_token",obj:{value:ee},continuous:!0},[["".concat(Z,"/getUserLp")]]))return;ue(!1)}const i={title:"actions.remove",obj:{detail:W?Object(w.a)(Pe,E):Object(g.A)(Pe,E)},forTransitionModal:{title:"banner.title_withdraw",symbols:W?Object(w.a)(Pe,E):Object(g.A)(Pe,E)}},r=l._toHex();await t.removeLiquidityBUSD2USD(X,r,o,i,[["".concat(Z,"/updateCurrencyData")]])}else{const c=await ze(a,e,ne);if(!c)return;const{userLpBalance:s,userLpAllowance:n,minAmounts:o}=c,l=Object(g.cb)(ne).div(100).times(s)._toIntegerDown();if(de&&Object(g.a)(n).lt(l._toIntegerDown())){if(!await t.approveToken(G,Y,{title:"deposit.approve_token",obj:{value:te},continuous:!0},[["".concat(q,"/getUserLp")]]))return;ue(!1)}const i={title:"actions.remove",obj:{detail:W?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")},forTransitionModal:{title:"banner.title_withdraw",symbols:W?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")}},r=l._toHex();await t.removeLiquidityBUSD(Y,r,o,i,[["".concat(q,"/updateCurrencyData")]])}}catch(c){console.log(c)}},Be=async(e,a,c)=>{try{if(me){const s=await Object(O.sb)(V,a,e,"2Pool_2"===K?K:"2poollp",H);if(!s.success)return;const{balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d}=s,u=(Fe({balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d,coins:e}),Object(g.cb)(ne).div(100).times(d)._toIntegerDown());if(de&&Object(g.a)(b).lt(u._toIntegerDown())){if(!await t.approveToken(G,X,{title:"deposit.approve_token",obj:{value:ee},continuous:!0},[["".concat(Z,"/getUserLp")]]))return;ue(!1)}const j=u._toHex();let p=!1;for(let e in he)!0===he[e]&&(p=F[e].index);const m=await Object(O.s)(j,p,X);if(!m.success)return;const f=m.value,h=e.length,x=f.times(Object(g.a)(1).minus(Object(g.a)(T).times(h).div(4*(h-1)).div(1e10))),v=Object(g.a)(100).div(Object(g.a)(100).plus(c)),y=x.times(v)._toIntegerDown()._toHex(),S={title:"actions.remove",obj:{detail:W?Object(w.a)(Pe,E):Object(g.A)(Pe,E)},forTransitionModal:{title:"banner.title_withdraw",symbols:W?Object(w.a)(Pe,E):Object(g.A)(Pe,E)}};await t.removeLiqOneCoinBUSD2USD(X,j,p,y,S,[["".concat(Z,"/updateCurrencyData")]]);return}const s=await Object(O.sb)(V,a,e,"2Pool_2"===K?K:"2poollp",H);if(!s.success)return;const{balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d}=s,u=(Ue({balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d,coins:e}),Object(g.cb)(ne).div(100).times(d)._toIntegerDown());if(de&&Object(g.a)(b).lt(u._toIntegerDown())){if(!await t.approveToken(G,Y,{title:"deposit.approve_token",obj:{value:te},continuous:!0},[["".concat(q,"/getUserLp")]]))return;ue(!1)}const j=u._toHex();let p=!1;for(let e in he)!0===he[e]&&(p=U[e].index);const m=await Object(O.r)(j,p,Y);if(!m.success)return;const f=m.value,h=e.length,x=f.times(Object(g.a)(1).minus(Object(g.a)(T).times(h).div(4*(h-1)).div(1e10))),v=Object(g.a)(100).div(Object(g.a)(100).plus(c)),y=x.times(v)._toIntegerDown()._toHex(),S={title:"actions.remove",obj:{detail:W?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")},forTransitionModal:{title:"banner.title_withdraw",symbols:W?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")}};await t.removeLiqOneCoinBUSD(Y,j,p,y,S,[["".concat(q,"/updateCurrencyData")]])}catch(s){console.log(s)}},Ie=()=>{for(let e in he)if(he[e])return e;return!1},Ue=function(){let{balances3pool:e,balancesUsdc:t,sun3LpBalance:a,sun3TotalSupply:c,usdcLpTotalSupply:s,userLpAllowance:n,userUsdcLpBalance:o,coins:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const n=[],i=Object(g.a)(o).div(s),r=Object(g.a)(i).times(t),b=Object(g.a)(i).times(a).div(c);return l.map((t=>{const{index:a,precision:c,symbol:s,id:o}=t;let l=Object(g.a)(0);l=o===H?r.div(c):b.times(e[o]).div(c),n[a]=l||Object(g.a)(0)})),n}catch(i){return console.log(i),[]}},Fe=function(){let{balances3pool:e,balancesUsdc:t,sun3LpBalance:a,sun3TotalSupply:c,usdcLpTotalSupply:s,userLpAllowance:n,userUsdcLpBalance:o,coins:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const e=[],c=Object(g.a)(o).div(s),n=Object(g.a)(c).times(t),i=Object(g.a)(c).times(a);return l.map((t=>{const{index:a,precision:c,symbol:s,id:o}=t;let l=Object(g.a)(0);l=o===H?n.div(c):i.div(c),e[a]=l||Object(g.a)(0)})),e}catch(i){return console.log(i),[]}},ze=async function(e,t,a){let c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const s=await Object(O.sb)(V,e,t,"2Pool_2"===K?K:"2poollp",H);if(!s.success)return;const{balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d}=s,u=Ue({balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d,coins:t}),j=[],p={};return t.map((e=>{const{index:t,id:s,decimal:n,precision:o}=e;let l=Object(g.cb)(a).div(100).times(u[t]);c||(l=Object(g.a)(.98).times(l)),j[t]=l._toIntegerDown()._toHex(),p[s]=Object(g.c)(l._toFixed(n,1))})),{balances:u,userLpAllowance:b,minAmounts:j,amountsStr:p,userLpBalance:d}}catch(s){console.log(s)}},Me=async function(e,t,a){let c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const s=await Object(O.sb)(V,e,t,"2Pool_2"===K?K:"2poollp",H);if(!s.success)return;const{balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d,userLpAllowanceUsdcSwap:u}=s,j=Fe({balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d,coins:t}),p=[],m={};return t.map((e=>{const{index:t,id:s,decimal:n,precision:o}=e;let l=Object(g.cb)(a).div(100).times(j[t]);c||(l=Object(g.a)(.98).times(l)),p[t]=l._toIntegerDown()._toHex(),m[s]=l._toFixed(n,1)})),{balances:j,userLpAllowance:b,minAmounts:p,amountsStr:m,userLpBalance:d,userLpAllowanceUsdcSwap:u}}catch(s){console.log(s)}},Ve=async(e,t)=>{try{await R.getUserLp();const{userUsdcLpBalance:a}=R.swapBalanceInfo,{precision:c,decimal:s}=U[e],n=Object(g.cb)(t).div(100).times(a)._toIntegerDown(),o=U[e].index,l=n._toHex(),i=await Object(O.r)(l,o,Y);if(!i.success)return!1;const r=i.value;return Object(g.a)(r).div(c)._toFixed(s,1)}catch(a){console.log(a)}},He=async(e,t)=>{try{await J.getUserLp();const{userUsdcLpBalance:a}=J.swapBalanceInfo,{precision:c,decimal:s}=F[e],n=Object(g.cb)(t).div(100).times(a)._toIntegerDown(),o=F[e].index,l=n._toHex(),i=await Object(O.s)(l,o,X);if(!i.success)return!1;const r=i.value;return Object(g.a)(r).div(c)._toFixed(s,1)}catch(a){console.log(a)}},Ee=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(J.getSwapBalance(),J.getVirtualPriceBUSD(X),J.getVolData()):(R.getSwapBalance(),R.getVirtualPriceBUSD(X),R.getVolData())},Ke=async function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){await Promise.all([J.getSwapBalance(),J.getUserLp(),J.getBalanceInfo()]);const e={};M.map((t=>{const{userSwapBalance:a,decimal:c}=J.poolData[t];e[t]=Object(g.c)(Object(g.a)(a)._toFixed(c,1))})),Ne(e)}else{await Promise.all([R.getUserLp(),R.getBalanceInfo()]);const e={};z.map((t=>{const{userSwapBalance:a,decimal:c}=R.poolData[t];e[t]=Object(g.c)(Object(g.a)(a)._toFixed(c,1))})),se(e)}!ye&&Se(!0),ke||(ke=setInterval((async()=>{Ee(!1),await R.getUserLp()}),a.defaultIntervalSec))};Object(c.useEffect)((()=>{!Le&&me&&(Le=setInterval((async()=>{Ee(!0),await J.getUserLp()}),a.defaultIntervalSec))}),[me]),Object(c.useEffect)((()=>(R.initPage(p),Ke(),Ee(),()=>{clearInterval(ke),clearInterval(Le)})),[]);const Re=async(e,t)=>{!ye&&Se(!0);let a=ne;const c={},s={},n={};if(me)if(e){pe(!0);for(let e in Pe)e!==t&&(c[e]=!1,n[e]=0);xe({...Pe,...c,[t]:e}),(ne===D||Object(g.cb)(ne).lte(0))&&(a="100.00",oe(a)),Object(g.cb)(a).gt(100)&&(a=100);const s=await He(t,a);s&&Ne({...Pe,...n,[t]:Object(g.c)(s)})}else oe(D),pe(!1),xe({...he,[t]:e});else if(e){pe(!0);for(let e in he)e!==t&&(c[e]=!1,s[e]=0);xe({...he,...c,[t]:e}),(ne===D||Object(g.cb)(ne).lte(0))&&(a="100.00",oe(a)),Object(g.cb)(a).gt(100)&&(a=100);const n=await Ve(t,a);n&&se({...ce,...s,[t]:Object(g.c)(n)})}else oe(D),pe(!1),xe({...he,[t]:e})},Je=e=>{oe("100"),e?(Ae(M),clearInterval(ke)):(Ae(z),clearInterval(Le)),fe(e),pe(!1),xe(ae(!1)),Ee(e),Ke(e)},Ze=async(e,t)=>{const a=await R.calcInclPrice(e,!1,t);ge(a)},qe=async(e,t)=>{const a=await J.calcInclPrice(e,!1,t);ge(a)},We=async e=>{var t;!ye&&Se(!0);let c=e.target.value,s=c.split(".");if((null===(t=s[1])||void 0===t?void 0:t.length)>2&&(c="".concat(s[0]+"."+s[1].substr(0,2))),Object(g.a)(c).gt(100))return;const{valid:n,str:o}=Object(g.T)(c,10);if(ne===D)return me?(()=>{const e={},t={};M.map((a=>{e[a]=0,t[0]=!1})),Ne(e),xe(he),oe(0)})():(()=>{const e={},t={};z.map((a=>{e[a]=0,t[0]=!1})),se(e),xe(he),oe(0)})();if(""===c)return oe(""),me?(()=>{const e={};M.map((t=>{e[t]=0})),Ne(e)})():(()=>{const e={};z.map((t=>{e[t]=0})),se(e)})();if(n){oe(o);const t=Object(g.a)(o).gt(100)?Object(g.a)(100):Object(g.a)(o);if(t.isNaN())return;if(!a.defaultAccount)return;const s=a.defaultAccount,n=Ie();if(me){if(n){const e=await He(n,t);return e&&Ne({...Pe,[n]:Object(g.c)(e)})}if(o!==D){const e=[];M.map((t=>{e.push({...F[t]})}));const t=e.sort(((e,t)=>e.index-t.index)),a=await Me(s,t,o,!0),{amountsStr:c={}}=a;a&&Ne(c)}return}if(n){const e=await Ve(n,t);return e&&se({...ce,[n]:Object(g.c)(e)})}if(o!==D){const t=[];z.map((e=>{t.push({...U[e]})}));const a=t.sort(((e,t)=>e.index-t.index)),n=await ze(s,a,o,!0);if(c===e.target.value){const{amountsStr:e={}}=n;n&&se(e)}}}},Ye=e=>{!ye&&Se(!0),ie(e),e!==D&&be("")},Xe=e=>{const{valid:t,str:a}=Object(g.T)(e,10);if(t)if(""===a)be("");else if(Object(g.a)(a).lte(100)){var c;let e=a,t=a.split(".");(null===(c=t[1])||void 0===c?void 0:c.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),be(e)}},Qe=e=>Ie()||ne===D?Object(k.jsx)("div",{className:"flex start mt-20",children:Object(k.jsx)(_.a,{slippage:e,customSlippage:re,CUSTOM_SLIPPAGE:B,onChangeSlippage:Ye,onChangeCustomSlippage:Xe})}):Object(k.jsx)(k.Fragment,{});return Object(k.jsx)(d.a,{children:()=>Object(k.jsxs)(o.a,{gutter:[{xs:8,sm:16,md:32},20],children:[Object(k.jsxs)(l.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15},children:[Object(k.jsx)(A.a,{list:L,activeKey:I[0]}),Object(k.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(f.a,{routeName:"usdc/withdraw",mountedActions:Ke,instantActions:Ee}),Object(k.jsx)(h.a,{title:n.a.get("buysell.busd_2pool")+" "+n.a.get("banner.title_withdraw"),desc:n.a.get("banner.desc_withdraw")}),Object(k.jsx)(x.a,{})]}):null,a.isConnected?Object(k.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(k.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(k.jsxs)("div",{className:"flex",children:[n.a.get("withdraw.share_of_liq"),Object(k.jsx)(N.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:ne,onChange:We})]}),Object(k.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(k.jsx)("legend",{children:n.a.get("deposit.currencies")}),Object(k.jsx)("ul",{children:_e.map((e=>{const t=me?F[e]:U[e],{symbol:a=""}=t;return Object(k.jsxs)("li",{children:[Object(k.jsx)("div",{className:"cur-label",children:Object(k.jsxs)("span",{className:"icon",children:[e===K?Object(k.jsx)("img",{src:j.b[E]?j.b[E]:b.default,alt:"",className:"token-logo"}):Object(k.jsx)("img",{src:j.b[e]?j.b[e]:b.default,alt:"",className:"token-logo"}),a]})}),Object(k.jsx)(N.a,{showMax:!1,value:me?Pe[e]:ce[e],onChange:t=>{(async(e,t)=>{if(!ye&&Se(!0),me){const{decimal:a}=F[t],{valid:c,str:s}=Object(g.T)((""+e.target.value).replace(/,/g,""),a);c&&Ne({...Pe,[t]:Object(g.c)(s)}),oe(D),pe(!1);const n={};for(let e in he)n[e]=!1;return void xe(n)}const{decimal:a}=U[t],{valid:c,str:s}=Object(g.T)((""+e.target.value).replace(/,/g,""),a);c&&se({...ce,[t]:Object(g.c)(s)}),oe(D),pe(!1);const n={};for(let o in he)n[o]=!1;xe(n)})(t,e)}})]},e)}))})]}),Object(g.X)(Oe),Object(k.jsxs)("fieldset",{children:[Object(k.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(k.jsx)("span",{className:"mr-10",children:n.a.get("withdraw.withdraw_text")}),Object(k.jsx)(i.a,{title:n.a.get("withdraw.tip"),children:Object(k.jsx)(r.a,{})})]}),Object(k.jsxs)("div",{className:"withdraw-one mt-10",children:[_e.map((e=>{const{symbol:t=""}=me?F[e]:U[e],a=e===K?j.b[E]?j.b[E]:b.default:j.b[e]?j.b[e]:b.default;return Object(k.jsx)(y.a,{id:e,checked:he[e],tokenLogo:a,symbol:t,onChange:Re})})),Object(k.jsx)(y.a,{checked:me,symbol:n.a.get("withdraw.".concat(W?"as_2Pool_2_LP":"as_2usd_LP")),onChange:Je})]})]}),Qe(le),ve?Object(k.jsx)(S.a,{styleName:"mt-40",type:"single",disabled:!0,info:n.a.get("withdraw.action")}):Object(k.jsx)(S.a,{styleName:"mt-40",type:"single",info:n.a.get("withdraw.action"),onClick:()=>(async t=>{try{if(!a.defaultAccount)return;if(!ye&&Se(!0),!ve&&Ce(t))return;if(ve)return;const c=a.defaultAccount,s=[];me?M.map((e=>{s.push({...F[e],inputValue:Object(g.cb)(t[e]).times(F[e].precision)})})):z.map((e=>{s.push({...U[e],inputValue:Object(g.cb)(t[e]).times(U[e].precision)})}));const n=s.sort(((e,t)=>e.index-t.index)),o=le===B?re:le;return e.onSubmit&&e.onSubmit(),je?await Be(n,c,o):ne!==D?await De(n,c):await Te(n,o)}catch(c){console.log("\u63d0\u73b0\u5931\u8d25",c)}})(me?Pe:ce)}),ve&&Object(k.jsx)("div",{className:"error-content mt-12",children:Object(k.jsx)("div",{className:"error-tip",children:ve})})]})}):Object(k.jsx)(P.a,{})]})]}),Object(k.jsx)(l.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9},children:Object(k.jsx)(m.a,{type:me?"2usdlp":H,className:a.isConnected?null:"window-for-tabs-pane",curveConfig:s})})]})})}},1976:function(e,t,a){"use strict";a.r(t);var c=a(1320),s=a(1322),n=a(1993),o=a(67),l=a(1),i=a.n(l),r=a(54),b=a(11),d=a.n(b),u=(a(934),a(939),a(62)),j=a(999),p=a(913),O=a(1053),g=a(968),m=a(1054),f=a(1055),h=a(942),x=a(52),v=a(35),w=a(923),y=a(918),S=a(914),_=a(917),A=a(943),P=a(3);const N={curveSymbol:"busd",curveLPSymbol:"busd2pool",busd2PoolKeys:Object(v.c)("2PoolKeys"),busd2PoolPools:Object(v.c)("2PoolPools"),busd2PoolIndex:Object(v.c)("2PoolIndex"),busd2PoolContracts:Object(v.c)("2PoolContracts"),busdusdPoolKeys:Object(v.c)("usdPoolKeys"),busdusdPools:Object(v.c)("usdPools"),busdUsdPoolIndex:Object(v.c)("UsdPoolIndex"),currencyBUSDKeys:Object(v.g)()},{busd2PoolContracts:k,busdusdPoolKeys:L}=N,{tabChangeLog:C,tabSubmitLog:T}=Object(h.a)({childPage:x.j.liquidity_busd2pool}),D=e=>{let{onSubmit:t,curveConfig:a,pageList:n,tabPaneKey:o,isConnected:l}=e;return Object(P.jsxs)(c.a,{...y.a.row,children:[Object(P.jsxs)(s.a,{...y.a.colLeft,children:[Object(P.jsx)(S.a,{list:n,activeKey:o[0]}),l?Object(P.jsx)("div",{className:"window-for-tabs-pane",children:Object(P.jsx)(O.a,{curveConfig:a,onSubmit:t})}):Object(P.jsx)(_.a,{})]}),Object(P.jsx)(s.a,{...y.a.colRight,children:Object(P.jsx)(g.a,{curveConfig:a})})]})},B={1:{title:d.a.get("banner.title_deposit"),content:d.a.get("banner.desc_deposit"),tabTitle:d.a.get("header.deposit")},2:{title:d.a.get("banner.title_withdraw"),content:d.a.get("banner.desc_withdraw"),tabTitle:d.a.get("header.withdraw")},3:{title:d.a.get("banner.title_1"),content:d.a.get("banner.desc_1"),tabTitle:d.a.get("header.swap")}};t.default=()=>{const{pathname:e}=Object(r.h)(),{title:t,tabKey:a}=Object(j.usePoolTab)(),c=Object(o.d)((()=>u.default.busdPool)),s=Object(o.d)((()=>u.default.usd2Pool)),[b,O]=i.a.useState(a),{mountedActions:g,instantActions:h}=(()=>{let e=null;const t=Object(o.d)((()=>u.default.busdPool)),a=Object(o.d)((()=>u.default.usd2Pool)),c=Object(o.d)((()=>u.default.network)),s=async e=>{e||(t.initPage(),a.initPage()),t.getSwapBalance(),t.getVirtualPriceBUSD(k.usdcSwap),t.getVolData()};return i.a.useEffect((()=>()=>{clearInterval(e)}),[]),{mountedActions:async()=>{t.getUserLp(),await t.getBalanceInfo(k.usdcSwap),await t.getBalanceInfo(k.USDCDepositer),e||(e=setInterval((async()=>{s(!0),t.getUserLp(),await t.getBalanceInfo(k.usdcSwap),await t.getBalanceInfo(k.USDCDepositer)}),c.defaultIntervalSec))},instantActions:s}})(),x=window.localStorage.getItem("lang");Object(l.useEffect)((()=>(console.log("pathname busd",e),c.initPage(),s.initPage(),()=>{c.initPage(),s.initPage()})),[e]);const v=Object(l.useCallback)((e=>{let{value:t}=e;O(t),C(t)}),[]),y=()=>{const e=window.localStorage.getItem("lang")||d.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},S=Object(l.useMemo)((()=>({shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:y})),[]),_=Object(l.useMemo)((()=>[{label:B[1].tabTitle,value:"1",handler:v},{label:B[2].tabTitle,value:"2",handler:v},{label:B[3].tabTitle,value:"3",handler:v}]),[]),L=Object(o.d)((()=>u.default.network));return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(p.a,{mountedActions:g,instantActions:h,subNavProps:S}),Object(P.jsxs)("div",{className:"main-page-content",children:[Object(P.jsx)(w.a,{title:"".concat(t).concat("en-US"===x?" ":"").concat(d.a.get("buysell.Pool")).concat("en-US"===x?" ":"").concat(B[b[0]].title),subTitle:B[b[0]].content}),Object(P.jsxs)("div",{className:"pool-tabs",children:[Object(P.jsxs)(n.a,{activeKey:b[0],centered:!0,renderTabBar:()=>null,children:[Object(P.jsx)(n.a.TabPane,{tab:Object(j.renderTab)("1"),children:Object(P.jsx)(m.a,{curveConfig:N,onSubmit:()=>T("1"),pageList:_,tabPaneKey:b})},"1"),Object(P.jsx)(n.a.TabPane,{tab:Object(j.renderTab)("2"),children:Object(P.jsx)(f.a,{curveConfig:N,onSubmit:()=>T("2"),pageList:_,tabPaneKey:b})},"2"),Object(P.jsx)(n.a.TabPane,{tab:Object(j.renderTab)("3"),children:Object(P.jsx)(D,{curveConfig:N,onSubmit:e=>T("3",{event_label:e,txid:e}),pageList:_,tabPaneKey:b,isConnected:L.isConnected})},"3")]}),Object(P.jsx)(A.a,{name:"type",cb:v,valueFlag:!0})]})]})]})}},914:function(e,t,a){"use strict";a(928);var c=a(14),s=a.n(c),n=a(3);t.a=e=>Object(n.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((t=>Object(n.jsx)("div",{className:s()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:()=>t.handler(t),children:t.label},t.value)))})},918:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l}));var c=a(11),s=a.n(c);const n={row:{gutter:[{xs:8,sm:16,md:32},20]},colLeft:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15}},colRight:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9}}},o={1:{title:s.a.get("banner.title_deposit"),content:s.a.get("banner.desc_deposit"),tabTitle:s.a.get("header.deposit")},2:{title:s.a.get("banner.title_withdraw"),content:s.a.get("banner.desc_withdraw"),tabTitle:s.a.get("header.withdraw")},3:{title:s.a.get("banner.title_1"),content:s.a.get("banner.desc_1"),tabTitle:s.a.get("header.swap")}},l=[{label:o[1].tabTitle,value:"1"},{label:o[2].tabTitle,value:"2"},{label:o[3].tabTitle,value:"3"}]},920:function(e,t,a){"use strict";var c=a(14),s=a.n(c),n=a(948),o=a(3);t.a=e=>{const{checked:t,tokenLogo:a,symbol:c="",onChange:l,id:i=""}=e;return Object(o.jsxs)("div",{className:s()({[n.sun_check_button]:!0,[n.sun_check_active_button]:t}),onClick:()=>{l&&l(!t,i)},children:[a&&Object(o.jsx)("img",{src:a,alt:"",className:"token-logo"}),Object(o.jsx)("span",{children:c})]})}},921:function(e,t,a){"use strict";var c=a(11),s=a.n(c),n=a(14),o=a.n(n),l=a(1957),i=a(931),r=a(3);const b=[{key:.2,label:"0.2%"},{key:3,label:"3%"}],d=[{key:.005,label:"0.5%"},{key:.01,label:"1%"}];t.a=e=>{const{slippage:t,customSlippage:a,CUSTOM_SLIPPAGE:c,type:n="withdraw"}=e,u="withdraw"===n?b:d;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"mr-10",children:s.a.get("withdraw.slippage")}),Object(r.jsxs)("div",{className:o()(i.setting_btns),children:[Object(r.jsx)("div",{className:i.setting_btn_wrap,children:u.map((a=>Object(r.jsx)("span",{className:o()(i.setting_item,t===a.key?i.active:""),onClick:()=>{return t=a.key,void(e.onChangeSlippage&&e.onChangeSlippage(t));var t},children:a.label})))}),Object(r.jsx)(l.a,{className:o()(i.setting_input,i.module_important,["ml-20"]),suffix:"%",value:a,onFocus:()=>{a||e.onChangeSlippage&&e.onChangeSlippage(c)},onBlur:()=>{a||e.onChangeSlippage&&e.onChangeSlippage(String(u[0].key))},onChange:t=>{e.onChangeCustomSlippage&&e.onChangeCustomSlippage(t.target.value)}})]})]})}},923:function(e,t,a){"use strict";var c=a(1),s=a(14),n=a.n(s),o=a(925),l=a(3);const i=e=>{const{title:t,subTitle:a,isRevert:c}=e,s="string"===typeof t;return Object(l.jsxs)("div",{className:o.page_title_wrap,children:[c&&a&&Object(l.jsx)("div",{className:o.page_title_sub,children:a}),t&&Object(l.jsx)("div",{className:n()({[o.page_title]:!0,[o.page_title_revert]:c,[o.page_title_ele]:!s}),children:s?t.split("").map(((e,t)=>Object(l.jsx)("span",{className:o.page_title_ele,children:e},t))):t}),a&&!c&&Object(l.jsx)("div",{className:o.page_title_sub,children:a})]})};t.a=Object(c.memo)(i)},925:function(e,t,a){e.exports={"page-head":"style_page-head__1_76J",link:"style_link__JVBBX","gradient-title":"style_gradient-title__14115",animateTitle:"style_animateTitle__1W1A5","dim-content":"style_dim-content__1MZ32",uppercase:"style_uppercase__2R_0z","window-for-tabs-pane":"style_window-for-tabs-pane__3S1zF","dark-btn":"style_dark-btn__VnSQD","purple-btn":"style_purple-btn__3Ez4v","cur-input":"style_cur-input__1VPh5","max-btn":"style_max-btn__2ujF3",page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},928:function(e,t,a){},931:function(e,t,a){e.exports={"page-head":"style_page-head__1vdv7",link:"style_link__1gfSr","gradient-title":"style_gradient-title__UDoMs",animateTitle:"style_animateTitle__2zU_Z","dim-content":"style_dim-content__1LeiT",uppercase:"style_uppercase__Jhzo4","window-for-tabs-pane":"style_window-for-tabs-pane__3E-mr","dark-btn":"style_dark-btn__2vZ_n","purple-btn":"style_purple-btn__3V5jL","cur-input":"style_cur-input__2s9we","max-btn":"style_max-btn__32jEQ",setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_item:"style_setting_item__1VwnL",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw",flex_right:"style_flex_right__3aanL"}},933:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),o=a(1427),l=a(169),i=a(949),r=a.n(i),b=a(3);const d=e=>{const{onCancel:t,open:a,value:c,confirmSlippageCheck:s,onChangeConfirmSlippageCheck:i,onOk:d,okText:u}=e;return Object(b.jsxs)(l.a,{title:n.a.get("deposit.high_slippage_title"),open:a,closable:!0,icon:null,onCancel:t,width:440,onOk:t,okText:n.a.get("cancel"),cancelText:u,cancelButtonProps:{disabled:!s,onClick:d},children:[Object(b.jsx)("div",{className:r.a.warning_img,children:Object(b.jsx)("img",{src:"data:image/png;base64,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",alt:""})}),Object(b.jsxs)("div",{className:r.a.box,children:[Object(b.jsx)("div",{children:n.a.get("deposit.high_tip1")}),Object(b.jsx)("div",{children:n.a.get("deposit.high_tip2",{value:c})})]}),Object(b.jsx)(o.a,{checked:s,onChange:i,children:Object(b.jsx)("span",{className:r.a.checkbox_info,children:n.a.get("deposit.confirm_slippage",{value:c})})})]})};d.defaultProps={};t.a=Object(c.memo)(d)},934:function(e,t,a){},935:function(e,t,a){"use strict";a(1);var c=a(11),s=a.n(c),n=a(67),o=a(4),l=a(62),i=a(0),r=(a(936),a(958)),b=a(956),d=a(3);const{Fee:u,A:j,ADMIN_FEE:p,poolKeys:O,pools:g}=o.default;t.a=e=>{const t=Object(n.d)((()=>l.default.pool)),a=Object(n.d)((()=>l.default.network)),c=(e,t)=>{const a=Object(i.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(i.u)(a,2)},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=Object(i.a)(0);for(let c in e){const{userSwapBalance:s,priceKey:n}=e[c],o=t?t[n]:"--";a=a.plus(Object(i.a)(s).times(o))}return Object(i.u)(a)}catch(a){return console.log(a),"--"}},m=O.map((e=>t.poolData[e])).filter((e=>e)),f=t.volData?t.volData["3pvol24Hours"]:"",h="Old 3Pool ".concat(s.a.get("pool.pool2_contract")),x="3SUN ".concat(s.a.get("pool.token_contract2"));return Object(d.jsx)(n.a,{children:()=>Object(d.jsxs)("div",{children:[Object(d.jsx)(r.a,{poolTokens:m,totalSwapBalance:t.totalSwapBalance,adminFee:p,fee:u,virtualPrice:t.virtualPrice,dailyVol:f,poolContract:o.default.stablePool,poolName:h,lpTokenAddress:o.default.stableLp,lpTokenName:x,aValue:j}),a.isConnected&&Object(i.a)(t.sharePer).gt(0)&&Object(d.jsx)(b.a,{sharePer:t.sharePer,usdBalance:g(t.poolData,t.volData),avgUsdBalance:c(t.userLpBalance,t.virtualPrice),userTotalBalance:t.userTotalBalance,myPoolTokens:m})]})})}},939:function(e,t,a){},940:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},941:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAAXNSR0IArs4c6QAAAKtQTFRFAAAAAAAAAAAAVVVVQEBAMzMzJCQkOTk5MzMzLi4uOzs7LS0tOTk5MTExNTU1MzMzMTExNzc3MzMzMDAwNTU1MDAwNjY2NDQ0NTU1MzMzMjIyMTExNTU1NDQ0MzMzNTU1MzMzNDQ0NDQ0MjIyNDQ0MjIyMjIyMzMzMzMzMzMzMzMzNDQ0MzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzWhra8AAAADh0Uk5TAAECAwQFBwkKCw0REhUYGRocHiAiJSYnKy0uLzAxMjo8U1RbXWBhaWp8fYCCh5qmrs/V4vD09/yQVz75AAABo0lEQVQ4y5VVyZaCMBBsUVFAB0RUkFius7rv/f9fNgcFAgSfqRtJvVBdvREVYHn9QSjicND3LHoJ248gIfLtSqo1BBD2OrZpGKbd6YUAhurnzQAYuy35qOWOgcBUKIghXKN4argCcUlLd4KgqfphM8Ckmz/qAW5VKC7Qy70L4VR75AhIb9sTOK8cdTBJdZtxtYZESZx4EiDIXU1XjSI7pVgQsg/tHfOm5InAIzvDnIjoxAoyuRgSEdkYS7n4vjHzvlUiG2PYROTjIwv7wMzXL3WMPhFFSN+ZnZn5OFIa0kJEZCFMvv/uzHzZrnNY1p63ISzy0lzOWYllWhEe9dF5fi1ekzvo0wBpJhdrBVIZNgYUwqS3YCIkAeM9sgFBMervkeuI9WRkAdaWqgAXJAWYWbdUW7eQrMuSUkGeS0nJ0l2Usb0w8/2XpHTLhZTD6MjM51mukMhXN+DnlZkPTqFE88WfvLNn5ttPqfgLbfXAhplPUbmtig2bkHdtVcOWRgERNVZT9SjQGzJa40tvMOqNXL1hrrcm9BaQ3mrTXJrSOhbKdfwPCZVOWH68U88AAAAASUVORK5CYII="},942:function(e,t,a){"use strict";var c=a(52);t.a=e=>{let{childPage:t}=e;const a=["deposit","withdraw","swap"],s=function(e,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=a[e-1],l=c.i[s?"".concat(s,"_").concat(o):o];l&&Object(c.a)({action:l(t),event_category:t,...n})};return{tabChangeLog:e=>s(e,"tab"),tabSubmitLog:(e,t)=>s(e,null,t)}}},943:function(e,t,a){"use strict";var c=a(1),s=a(0),n=a(3);t.a=e=>{let{name:t,cb:a,valueFlag:o}=e;return Object(c.useEffect)((()=>{const e=Object(s.F)(t),c="withdraw"===e?"2":"1";if(console.log("====cbIndex===",c),e){a&&a(o?{value:c}:c)}}),[]),Object(n.jsx)(n.Fragment,{})}},948:function(e,t,a){e.exports={sun_check_button:"style_sun_check_button__5diEB",sun_check_active_button:"style_sun_check_active_button__28IzL"}},949:function(e,t,a){e.exports={warning_img:"style_warning_img__1coIz",box:"style_box__mzd6y",checkbox_info:"style_checkbox_info__3Beyk"}},965:function(e,t,a){"use strict"},968:function(e,t,a){"use strict";var c=a(67),s=a(1),n=a(11),o=a.n(n),l=(a(936),a(4)),i=a(62),r=a(0),b=a(35),d=a(958),u=a(956),j=a(3);t.a=e=>{const{curveConfig:t,type:a}=e;let{busd2PoolContracts:n,currencyBUSDKeys:p,curveSymbol:O,curveLPSymbol:g,busdusdPoolKeys:m,twoPoolUsdLpKey:f="2poollp"}=t;const h=Object(c.d)((()=>i.default.network)),x=Object(c.d)((()=>Object(b.d)({Stores:i.default,poolType:f,baseStoreName:"busdPool"}))),v=Object(c.d)((()=>Object(b.d)({Stores:i.default,poolType:f,baseStoreName:"usd2Pool"}))),[w,y]=Object(s.useState)(x);Object(s.useEffect)((()=>{y("2usdlp"===a?v:x)}));const S=(e,t)=>{const a=Object(r.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(r.u)(a,2)},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=Object(r.a)(0);for(let c in e)if(m.includes(c)){const{userSwapBalance:s,priceKey:n}=e[c],o=t?t[n]:"--";a=a.plus(Object(r.a)(s).times(o))}return Object(r.u)(a)}catch(a){return console.log(a),"--"}},A=window.localStorage.getItem("lang"),P=p.map((e=>w.currencyData[e])).filter((e=>e)),N="".concat("2poollp"===f?"Old ":"").concat(O.toUpperCase()," ").concat("en-US"===A?"":"Pool"," ").concat(o.a.get("pool.pool_contract")),k="".concat(O.toUpperCase()," ").concat("2poollp"===f?" 2pool ":" 2Pool_2 "," ").concat(o.a.get("pool.token_contract2")),L=p.map((e=>w.currencyData[e])).filter((e=>e)),C=w.volData?w.volData["".concat(O).concat("2Pool_2"===f?"UsdtTusdPool24hourVol":"2UsdPool24hourVol")]:"";return Object(j.jsx)(c.a,{children:()=>Object(j.jsxs)("div",{children:[Object(j.jsx)(d.a,{curveLPSymbol:g,poolTokens:P,totalSwapBalance:w.totalSwapBalance,adminFee:w.poolInfo.ADMIN_FEE,fee:w.poolInfo.Fee,virtualPrice:w.virtualPrice,dailyVol:C,poolContract:n.usdcSwap,poolName:N,lpTokenAddress:l.default.tokens["".concat(O).concat(f)].token,lpTokenName:k,aValue:w.poolInfo.A}),h.isConnected&&Object(r.a)(w.sharePer).gt(0)&&Object(j.jsx)(u.a,{sharePer:w.sharePer,usdBalance:_(w.currencyData,w.volData),avgUsdBalance:S(w.swapBalanceInfo.userUsdcLpBalance,w.virtualPrice),userTotalBalance:w.swapBalanceInfo.userTotalBalance,myPoolTokens:L})]})})}},971:function(e,t,a){},974:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var c=a(0),s=a(64);const n={usdd2Pool_2:{keys:s.e.usdd2Pool_2UsdPoolKeys,poolsInfo:s.e.usdd2Pool_2UsdPools},usdj2Pool_2:{keys:s.e.usdj2Pool_2UsdPoolKeys,poolsInfo:s.e.usdj2Pool_2UsdPools},usdc2Pool_2:{keys:s.e.usdc2Pool_2UsdPoolKeys,poolsInfo:s.e.usdc2Pool_2UsdPools},busd2Pool_2:{keys:s.e.busd2Pool_2UsdPoolKeys,poolsInfo:s.e.busd2Pool_2UsdPools},usddlp:{keys:s.e.usdd2Pool_2Keys,poolsInfo:s.e.usdd2Pool_2Pools},usdjlp:{keys:s.e.usdj2Pool_2Keys,poolsInfo:s.e.usdj2Pool_2Pools},usdclp:{keys:s.e.usdc2Pool_2Keys,poolsInfo:s.e.usdc2Pool_2Pools},busdlp:{keys:s.e.busd2Pool_2Keys,poolsInfo:s.e.busd2Pool_2Pools}};const o=(e,t)=>function(e,t,a){try{const{keys:s=[],poolsInfo:n}=e[a]||{};let o=[];return s.map((e=>{const a=Object(c.u)(Object(c.cb)(t[e]).isNaN()?0:Object(c.cb)(t[e])),s=n[e].symbol;o.push("".concat(a," ").concat(s))})),o.join(" + ")}catch(s){return console.error("getApproveDetail",s),""}}(n,e,t)},979:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),o=a(67),l=a(1320),i=a(1322),r=a(1427),b=a(273),d=a(18),u=a(0),j=a(4),p=a(62),O=a(913),g=a(924),m=(a(932),a(935)),f=a(919),h=a(915),x=a(8),v=a(914),w=a(918),y=a(917),S=a(927),_=a(933),A=a(311),P=a(3);const{pools:N,poolKeys:k,ALL_FEE:L,defaultSlippage:C,stablePool:T}=j.default;t.a=e=>{const{pageList:t,tabPaneKey:a}=e,s=Object(o.d)((()=>p.default.network)),j=Object(o.d)((()=>p.default.system)),D=Object(o.d)((()=>p.default.pool)),[B,I]=Object(c.useState)((()=>{const e={};return k.map((t=>{e[t]=""})),e})()),[U,F]=Object(c.useState)(!1),[z,M]=Object(c.useState)(!0),[V,H]=Object(c.useState)(!1),[E,K]=Object(c.useState)("--"),[R,J]=Object(c.useState)("--"),[Z,q]=Object(c.useState)(!1),[W,Y]=Object(c.useState)(!1),[X,Q]=Object(c.useState)(!1);let G=null;Object(c.useEffect)((async()=>{await Promise.all([ne(B),ee()]),Z&&ce(B)}),[B]);const $=async t=>{try{const a=[];e.onSubmit&&e.onSubmit(),k.map((e=>{a.push({...D.poolData[e],inputValue:t[e]?Object(u.cb)(t[e]).times(N[e].precision):Object(u.a)(0)})}));for(let e=0;e<a.length;e++){const{allowance:t=Object(u.a)(0),inputValue:c,token:s,symbol:n,approveStatus:o,id:l}=a[e];if(Object(u.a)(t).lt(c)&&!o){if(!await j.approveToken(s,T,{title:"deposit.approve_token",obj:{value:n},continuous:!0},[["pool/getBalanceInfo"]]))return;D.poolData[l].approveStatus=2}}const c=a.sort(((e,t)=>e.index-t.index)),s=c.length,n=c.map((e=>e.inputValue._toIntegerDown()._toHex()))||[];let o=null;if(D.lpTotalSupply.lte(0)&&await D.getUserLp(),D.lpTotalSupply.lte(0))o=Object(u.a)(1);else{const e=await Object(x.e)(n);if(!e.success)return;o=e.value}o=o.times(Object(u.a)(1).minus(Object(u.a)(L).times(s).div(Object(u.a)(4).times(s-1)).div(1e10)));const l=o.times(1-C)._toFixed(0,1),i={title:"actions.addLiq",obj:{detail:Object(u.A)(t)},forTransitionModal:{title:"banner.title_deposit",symbols:Object(u.A)(t)}};await j.addLiquidity(n,l,i,[["pool/updateCurrencyData"]])&&re()}catch(a){console.log("deposit err: ",a)}},ee=async()=>{const e=[];for(let a in B){const{index:t,precision:c}=N[a],s=B[a].replace(/,/g,"");e[t]=Object(u.a)(s).isNaN()?0:Object(u.a)(s).times(c)._toIntegerDown()._toHex()}let t=null;if(D.lpTotalSupply.lte(0)&&await D.getUserLp(),D.lpTotalSupply.lte(0))t=Object(u.a)(1);else{const a=await Object(x.e)(e);if(!a.success)return;t=a.value.div(1e18)}J(t)},te=async()=>{await Promise.all([D.getSwapBalance(),D.getVirtualPrice(),D.getVolData()])},ae=async()=>{await Promise.all([D.getUserLp(),D.getBalanceInfo()]);const e={};k.map((t=>{const{precision:a,balance:c,decimal:s}=D.poolData[t];e[t]=Object(u.c)(Object(u.a)(c).div(a)._toFixed(s,1))})),I(e),!Z&&q(!0),G||(G=setInterval((async()=>{te(),D.getUserLp()}),s.defaultIntervalSec))};Object(c.useEffect)((async()=>(await Promise.all([ae(),te()]),()=>{clearInterval(G)})),[s.defaultAccount]);const ce=e=>{const t=Object.keys(e),a=t.length;if(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e),a=t.filter((t=>Object(u.cb)(e[t]).eq(0)||!e[t]));return t.length===a.length}(e))return H(n.a.get("error.e1")),!0;for(let c=0;c<a;c++){const a=t[c],s=e[a];if(!s&&(U||z))return H(n.a.get("error.e1")),!0;const{balance:o,precision:l,symbol:i}=D.poolData[a];if(Object(u.a)(o).div(l).lt(Object(u.cb)(s)))return H(n.a.get("error.e2",{token:i})),!0}return H(!1),!1},se=e=>{Q(e.target.checked)},ne=async e=>{const t=await D.calcInclPrice(e);K(t)},oe=(e,t)=>{const a=t,c={};c[e]=Object(u.c)(String(a).replace(/,/g,""));const{precision:s,swapBalance:n,balance:o}=D.poolData[e],l=Object(u.cb)(a).div(n).isNaN()?Object(u.a)(0):Object(u.cb)(a).div(n);k.filter((t=>t!==e)).map((e=>{const{balance:t=Object(u.a)(0),swapBalance:a,precision:s,decimal:n}=D.poolData[e];c[e]=Object(u.c)(l.times(a)._toFixed(n,1)),t.div(s).lt(Object(u.cb)(c[e]))&&(c[e]=Object(u.c)(t.div(s)._toFixed(n,1)))})),I(c)},le=async e=>{try{const t=e.target.checked;F(t),z&&M(!t),t&&oe(k[0],B[k[0]])}catch(t){console.log(t)}},ie=async e=>{try{const t=e.target.checked;M(t),U&&F(!t);const a={};k.map((e=>{const{balance:t,precision:c,decimal:s}=D.poolData[e];a[e]=Object(u.a)(t).isNaN()?0:Object(u.c)(t.div(c)._toFixed(s,1))})),I(a)}catch(t){console.log(t)}},re=()=>{Q(!1),Y(!1)},be=Object(A.b)();return Object(P.jsx)(o.a,{children:()=>Object(P.jsxs)(l.a,{...w.a.row,children:[Object(P.jsx)(i.a,{...w.a.colLeft,children:Object(P.jsxs)("div",{className:"pool-deposit",children:[Object(P.jsx)(v.a,{list:t,activeKey:a[0]}),e.isSinglePage?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(O.a,{routeName:"3pool/deposit",mountedActions:ae,instantActions:te}),Object(P.jsx)(g.a,{title:"3pool "+n.a.get("banner.title_deposit"),desc:n.a.get("banner.desc_deposit")}),Object(P.jsx)(f.a,{})]}):null,s.isConnected?Object(P.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(P.jsxs)("div",{className:"add-liq",children:[Object(P.jsx)("fieldset",{className:"currencies",children:Object(P.jsx)("ul",{children:k.map((e=>{let{symbol:t="",balance:a="--",precision:c,decimal:s}=D.poolData[e];return a=Object(u.a)(a).div(c),Object(P.jsxs)("li",{children:[Object(P.jsxs)("div",{className:"cur-label",children:[Object(P.jsxs)("span",{className:"icon",children:[Object(P.jsx)("img",{src:d.b[e]?d.b[e]:b.default,alt:"",className:"token-logo"})," ",t]}),Object(P.jsx)("span",{className:"token-max",children:n.a.getHTML("deposit.token_max",{balance:Object(u.u)(a)})})]}),Object(P.jsx)(S.a,{onMaxClick:()=>{((e,t,a)=>{if(Object(u.a)(t).isNaN())return;const c=Object(u.a)(t)._toFixed(a,1);I({...B,[e]:Object(u.c)(c)}),U&&oe(e,c)})(e,a,s)},value:B[e],onChange:t=>((e,t)=>{z&&M(!1);const{decimal:a}=N[t],{valid:c,str:s}=Object(u.T)((""+e.target.value).replace(/,/g,""),a);c&&(I({...B,[t]:Object(u.c)(s)}),U&&oe(t,s))})(t,e)})]},e)}))})}),!Object(u.a)(E).isNaN()&&Object(u.X)(E,!0),Object(P.jsxs)("div",{className:"deposit-check",children:[Object(P.jsx)(r.a,{checked:U,onChange:le,children:n.a.get("deposit.ch1")}),Object(P.jsx)("br",{}),Object(P.jsx)(r.a,{checked:z,onChange:ie,children:n.a.get("deposit.ch2")})]}),V?Object(P.jsx)(h.a,{styleName:"mt-40",type:"single",disabled:!0,info:n.a.get("deposit.action")}):Object(P.jsx)(h.a,{styleName:"mt-40",type:"single",info:be?n.a.get("not_available"):n.a.get("deposit.action"),onClick:()=>(async e=>{try{if(!V&&ce(e))return;if(V)return;if(Object(u.a)(E).abs().gt(10))return Y(!0);await $(e)}catch(t){console.log(t)}})(B),disabled:be}),V&&Object(P.jsx)("div",{className:"error-content mt-12",children:Object(P.jsx)("div",{className:"error-tip",children:V})}),Object(u.a)(R).gt(0)&&Object(P.jsxs)("div",{className:"error-content mt-12",children:[Object(P.jsxs)("div",{className:"error-tip",children:[n.a.getHTML("deposit.swap_detail",{value:Object(u.u)(R,2),symbol:"Old 3pool LP"})," "]}),Object(P.jsx)("div",{className:"error-tip",children:n.a.get("deposit.exchange_rate",{value:Object(u.u)(D.virtualPrice,6),symbol:"Old 3pool LP"})})]})]})}):Object(P.jsx)(y.a,{}),Object(P.jsx)(_.a,{confirmSlippageCheck:X,onChangeConfirmSlippageCheck:se,open:W,closable:!0,onCancel:re,onOk:()=>$(B),value:Object(u.u)(Object(u.a)(E).abs(),3),okText:n.a.get("deposit.anyway")})]})}),Object(P.jsx)(i.a,{...w.a.colRight,children:Object(P.jsx)(m.a,{className:s.isConnected?null:"window-for-tabs-pane"})})]})})}},981:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),o=a(1320),l=a(1322),i=a(318),r=a(896),b=a(273),d=a(67),u=a(62),j=a(18),p=a(4),O=a(8),g=a(0),m=a(935),f=a(913),h=a(924),x=(a(932),a(919)),v=(a(36),a(920)),w=a(915),y=a(921),S=a(918),_=a(914),A=a(917),P=a(927),N=a(3);const{pools:k,poolKeys:L,stableLp:C,ALL_FEE:T,stablePool:D,tokens:B}=p.default,I="---",U="CUSTOM",F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={};return L.map((a=>{t[a]=e})),t};t.a=e=>{const{pageList:t,tabPaneKey:a}=e,[s=F("--"),p]=Object(c.useState)(),[z,M]=Object(c.useState)("100.00"),[V,H]=Object(c.useState)(.2),[E,K]=Object(c.useState)(""),[R,J]=Object(c.useState)(!0),[Z,q]=Object(c.useState)(!1),[W,Y]=Object(c.useState)("--"),[X=F(!1),Q]=Object(c.useState)(),[G,$]=Object(c.useState)(!1),[ee,te]=Object(c.useState)(!1),ae=Object(d.d)((()=>u.default.system)),ce=Object(d.d)((()=>u.default.pool)),se=Object(d.d)((()=>u.default.network));let ne=null;Object(c.useEffect)((async()=>{ee&&oe()}),[s,z,V,E,X]),Object(c.useEffect)((()=>{ge(s,Z)}),[s]);const oe=()=>z!==I&&Object(g.cb)(z).gt(100)?($(n.a.get("error.e3")),!0):(()=>{for(let e in s)if(Object(g.cb)(s[e]).gt(0)||"--"===s[e])return!1;return!0})()?($(n.a.get("error.e4")),!0):V===U&&(be()||z===I)&&(Object(g.a)(E).lt(.1)||Object(g.a)(E).gt(50)||Object(g.a)(E).isNaN())?($(n.a.get("error.e5")),!0):($(!1),!1),le=async(e,t)=>{try{const a=e.length,c=e.map((e=>e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()))||[],n=await Object(O.e)(c,!1);if(!n.success)return;let o=n.value.times(Object(g.a)(1).plus(Object(g.a)(T).times(a).div(4*(a-1))));const l=Object(g.a)(100).plus(t).div(100);if(o=o.times(l)._toIntegerDown(),R&&Object(g.a)(ce.userLpAllowance).lt(o)){if(!await ae.approveToken(C,D,{title:"deposit.approve_token",obj:{value:B.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;J(!1)}const i=o._toHex(),r={title:"actions.remove",obj:{detail:Object(g.A)(s)},forTransitionModal:{title:"banner.title_withdraw",symbols:Object(g.A)(s)}};await ae.removeLiqImBalance(c,i,r,[["pool/updateCurrencyData"]])}catch(a){console.log(a)}},ie=async(e,t)=>{try{const a=await de(t,e,Object(g.cb)(z));if(!a)return;const{userLpBalance:c,lpTotalSupply:n,balances:o,userLpAllowance:l,minAmounts:i}=a,r=Object(g.cb)(z).div(100).times(c)._toIntegerDown();if(R&&Object(g.a)(l).lt(r._toIntegerDown())){if(!await ae.approveToken(C,D,{title:"deposit.approve_token",obj:{value:B.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;J(!1)}const b={title:"actions.remove",obj:{detail:Object(g.A)(s)},forTransitionModal:{title:"banner.title_withdraw",symbols:Object(g.A)(s)}},d=r._toHex();await ae.removeLiquidity(d,i,b,[["pool/updateCurrencyData"]])}catch(a){console.log(a)}},re=async(e,t,a)=>{try{const c=await Object(O.rb)(t,e);if(!c.success)return;const{userLpBalance:n,userLpAllowance:o}=c,l=Object(g.cb)(z).div(100).times(n)._toIntegerDown();if(R&&Object(g.a)(o).lt(l._toIntegerDown())){if(!await ae.approveToken(C,D,{title:"deposit.approve_token",obj:{value:B.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;J(!1)}const i=l._toHex();let r=!1;for(let e in X)!0===X[e]&&(r=k[e].index);const b=await Object(O.q)(i,r);if(!b.success)return;const d=b.value,u=e.length,j=d.times(Object(g.a)(1).minus(Object(g.a)(T).times(u).div(4*(u-1)).div(1e10))),p=Object(g.a)(100).div(Object(g.a)(100).plus(a)),m=j.times(p)._toIntegerDown()._toHex(),f={title:"actions.remove",obj:{detail:Object(g.A)(s)},forTransitionModal:{title:"banner.title_withdraw",symbols:Object(g.A)(s)}};await ae.removeLiqOneCoin(i,r,m,f,[["pool/updateCurrencyData"]])}catch(c){console.log(c)}},be=()=>{for(let e in X)if(X[e])return e;return!1},de=async function(e,t,a){let c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const s=await Object(O.rb)(e,t);if(!s.success)return;const{userLpBalance:n,lpTotalSupply:o,balances:l,userLpAllowance:i}=s,r=[],b={};return t.map((e=>{const{index:t,id:s,decimal:i,precision:d}=e;let u=Object(g.cb)(a).div(100).times(l[t]);c||(u=Object(g.a)(.98).times(u)),r[t]=u.times(n).div(o)._toIntegerDown()._toHex(),b[s]=Object(g.c)(u.times(n).div(o).div(d)._toFixed(i,1))})),{userLpBalance:n,lpTotalSupply:o,balances:l,userLpAllowance:i,minAmounts:r,amountsStr:b}}catch(s){console.log(s)}},ue=async(e,t)=>{try{await ce.getUserLp();const{userLpBalance:a}=ce,{precision:c,decimal:s}=k[e],n=Object(g.cb)(t).div(100).times(a)._toIntegerDown(),o=k[e].index,l=n._toHex(),i=await Object(O.q)(l,o);if(!i.success)return!1;const r=i.value;return Object(g.a)(r).div(c)._toFixed(s,1)}catch(a){console.log(a)}},je=()=>{ce.getSwapBalance(),ce.getVirtualPrice(),ce.getVolData()},pe=async()=>{await Promise.all([ce.getUserLp(),ce.getBalanceInfo()]);const e={};L.map((t=>{const{userSwapBalance:a,decimal:c}=ce.poolData[t];e[t]=Object(g.c)(Object(g.a)(a)._toFixed(c,1))})),p(e),ne||(ne=setInterval((async()=>{je(),await ce.getUserLp()}),se.defaultIntervalSec))};Object(c.useEffect)((()=>(pe(),je(),()=>{clearInterval(ne)})),[]);const Oe=async(e,t)=>{!ee&&te(!0);let a=Object(g.cb)(z);const c={},n={};if(e){q(!0);for(let e in X)e!==t&&(c[e]=!1,n[e]=0);Q({...X,...c,[t]:e}),(z===I||Object(g.cb)(z).lte(0))&&(a="100.00",M(a)),Object(g.a)(a).gt(100)&&(a=100);const o=await ue(t,a);o&&p({...s,...n,[t]:Object(g.c)(o)})}else M(I),q(!1),Q({...X,[t]:e})},ge=async(e,t)=>{const a=await ce.calcInclPrice(e,!1,t);Y(a)},me=async e=>{var t;!ee&&te(!0);let a=e.target.value,c=a.split(".");if((null===(t=c[1])||void 0===t?void 0:t.length)>2&&(a="".concat(c[0]+"."+c[1].substr(0,2))),Object(g.a)(a).gt(100))return;const{valid:n,str:o}=Object(g.T)(a,10);if(z===I)return(()=>{const e={},t={};L.map((a=>{e[a]=0,t[0]=!1})),p(e),Q(X),M(0)})();if(""===a)return M(""),(()=>{const e={};L.map((t=>{e[t]=0})),p(e)})();if(n){M(Object(g.c)(o));const t=Object(g.a)(o).gt(100)?Object(g.a)(100):Object(g.a)(o);if(t.isNaN())return;if(!se.defaultAccount)return;const c=se.defaultAccount,n=be();if(n){const e=await ue(n,t);return e&&p({...s,[n]:Object(g.c)(e)})}if(o!==I){const t=[];L.map((e=>{t.push({...k[e]})}));const s=t.sort(((e,t)=>e.index-t.index)),n=await de(c,s,o,!0);if(a===e.target.value){const{amountsStr:e={}}=n;n&&p(e)}}}},fe=e=>{!ee&&te(!0),H(e),e!==I&&K("")},he=e=>{const{valid:t,str:a}=Object(g.T)(e,10);if(t)if(""===a)K("");else if(Object(g.a)(a).lte(100)){var c;let e=a,t=a.split(".");(null===(c=t[1])||void 0===c?void 0:c.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),K(e)}},xe=e=>be()||z===I?Object(N.jsx)("div",{className:"flex start mt-20",children:Object(N.jsx)(y.a,{slippage:e,customSlippage:E,CUSTOM_SLIPPAGE:U,onChangeSlippage:fe,onChangeCustomSlippage:he})}):Object(N.jsx)(N.Fragment,{});return Object(N.jsx)(d.a,{children:()=>Object(N.jsxs)(o.a,{...S.a.row,children:[Object(N.jsxs)(l.a,{...S.a.colLeft,children:[Object(N.jsx)(_.a,{list:t,activeKey:a[0]}),Object(N.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(f.a,{routeName:"3pool/withdraw",mountedActions:pe,instantActions:je}),Object(N.jsx)(h.a,{title:"3pool "+n.a.get("banner.title_withdraw"),desc:n.a.get("banner.desc_withdraw")}),Object(N.jsx)(x.a,{})]}):null,se.isConnected?Object(N.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(N.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(N.jsxs)("div",{className:"flex",children:[n.a.get("withdraw.share_of_liq"),Object(N.jsx)(P.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:z,onChange:me})]}),Object(N.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(N.jsx)("legend",{children:n.a.get("deposit.currencies")}),Object(N.jsx)("ul",{children:L.map((e=>{const t=k[e],{symbol:a=""}=t;return Object(N.jsxs)("li",{children:[Object(N.jsx)("div",{className:"cur-label",children:Object(N.jsxs)("span",{className:"icon",children:[Object(N.jsx)("img",{src:j.b[e]?j.b[e]:b.default,alt:"",className:"token-logo"}),a]})}),Object(N.jsx)(P.a,{showMax:!1,value:s[e],onChange:t=>{(async(e,t)=>{!ee&&te(!0);const{decimal:a}=k[t],{valid:c,str:n}=Object(g.T)((""+e.target.value).replace(/,/g,""),a);c&&p({...s,[t]:Object(g.c)(n)}),M(I),q(!1);const o={};for(let s in X)o[s]=!1;Q(o)})(t,e)}})]},e)}))})]}),Object(g.X)(W),Object(N.jsxs)("fieldset",{children:[Object(N.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(N.jsx)("span",{className:"mr-10",children:n.a.get("withdraw.withdraw_text")}),Object(N.jsx)(i.a,{title:n.a.get("withdraw.tip"),children:Object(N.jsx)(r.a,{})})]}),Object(N.jsx)("div",{className:"withdraw-one",children:L.map((e=>{const{symbol:t=""}=k[e];return Object(N.jsx)(v.a,{id:e,checked:X[e],tokenLogo:j.b[e]?j.b[e]:b.default,symbol:t,onChange:Oe})}))})]}),xe(V),G?Object(N.jsx)(w.a,{styleName:"mt-40",type:"single",disabled:!0,info:n.a.get("withdraw.action")}):Object(N.jsx)(w.a,{styleName:"mt-40",type:"single",info:n.a.get("withdraw.action"),onClick:()=>(async t=>{try{if(!se.defaultAccount)return;if(!ee&&te(!0),!G&&oe(t))return;if(G)return;const a=se.defaultAccount,c=[];L.map((e=>{c.push({...k[e],inputValue:Object(g.cb)(t[e]).times(k[e].precision)})}));const s=c.sort(((e,t)=>e.index-t.index)),n=V===U?E:V;return e.onSubmit&&e.onSubmit(),Z?await re(s,a,n):z!==I?await ie(s,a):await le(s,n)}catch(a){console.log(a)}})(s),disabled:G}),G&&Object(N.jsx)("div",{className:"error-content mt-12",children:Object(N.jsx)("div",{className:"error-tip",children:G})})]})}):Object(N.jsx)(A.a,{})]})]}),Object(N.jsx)(l.a,{...S.a.colRight,children:Object(N.jsx)(m.a,{className:se.isConnected?null:"window-for-tabs-pane"})})]})})}},999:function(e,t,a){"use strict";a.r(t),a.d(t,"renderTab",(function(){return M})),a.d(t,"usePoolTab",(function(){return K}));var c=a(1320),s=a(1322),n=a(1993),o=a(67),l=a(1),i=a.n(l),r=a(11),b=a.n(r),d=(a(934),a(939),a(62)),u=a(913),j=(a(1958),a(1957)),p=(a(1424),a.p,a(273)),O=a(940),g=a(941),m=a(4),f=a(8),h=a(18),x=a(0),v=a(920),w=a(921),y=a(915),S=a(170),_=a(98),A=a(3);function P(e){const[t,a]=Object(l.useState)(2),[c,s]=Object(l.useState)(1),[n,i]=Object(l.useState)(0),[r,u]=Object(l.useState)(1),[P,N]=Object(l.useState)(-1),[k,L]=Object(l.useState)(1),[C,T]=Object(l.useState)(.005),[D,B]=Object(l.useState)(""),[I,U]=Object(l.useState)(!0),[F,z]=Object(l.useState)(""),[M,V]=Object(l.useState)(!1),{pools:H,poolIndex:E,stablePool:K,poolKeys:R}=m.default,J=Object(o.d)((()=>d.default.network)),Z=Object(o.d)((()=>d.default.system)),q=Object(o.d)((()=>d.default.pool)),[W,Y]=Object(l.useState)(!1);Object(l.useEffect)((()=>{G({i:t,j:n,dx:c})}),[]);const X=()=>{!W&&Y(!0);let e=t,c=n,o=r;e!==c&&(a(c),i(e),s(o),G({i:c,j:e,dx:o,notChangeRate:!0}),$({no:1,i:c,j:e,dx:o}))},Q=e=>{let{...t}=e;V(!M),$({...t,exchangeFlags:!M})},G=async e=>{let{...a}=e;try{let e=void 0===a.i?t:a.i,s=void 0===a.j?n:a.j,o=void 0===a.dx?Object(x.cb)(c):Object(x.cb)(a.dx);if(!Object(x.a)(o).gt(0))return void u(0);let l=Object(x.a)(o).times(H[E[e]].precision)._toIntegerDown()._toHex(),i=null;if(i=await Object(f.R)(e,s,l),i.success){let e=Object(x.a)(i.value).div(H[E[s]].precision);u(Object(x.c)(Object(x.a)(e)._toFixed(H[E[s]].decimal,1))),L(Object(x.a)(i.value))}else u(0),L(1);a.notChangeRate||$({i:e,j:s,dx:o})}catch(s){console.log("getDyData: ",s)}},$=async e=>{let{...a}=e;try{let e=void 0===a.i?t:a.i,s=void 0===a.j?n:a.j,o=void 0===a.dx?Object(x.cb)(c):Object(x.cb)(a.dx),l=void 0===a.exchangeFlags?M:a.exchangeFlags,i=Object(x.a)(o).times(H[E[e]].precision)._toIntegerDown()._toHex(),r=null;if(!Object(x.a)(o).gt(0))return;if(r=await Object(f.R)(e,s,i),r.success){let e=Object(x.a)(r.value).div(H[E[s]].precision).div(o);N(l?Object(x.a)(1).div(Object(x.a)(e)._toFixed(4,1))._toFixed(4,1):e._toFixed(4,1))}}catch(s){console.log("getRateData: ",s)}},ee=e=>{let o=t;Number(e)!==Number(n)&&(o=n),i(o),a(e);let l=Object(x.cb)(c)._toFixed(H[E[e]].decimal,1);s(Object(x.c)(l)),G({i:e,j:o,dx:l})},te=e=>{let o=n;Number(e)!==Number(t)&&(o=t),a(o),i(e);let l=Object(x.cb)(c)._toFixed(H[E[o]].decimal,1);s(Object(x.c)(l)),G({j:e,i:o,dx:l})},ae=e=>{!W&&Y(!0);const{valid:a,str:c}=Object(x.T)((""+e).replace(/,/g,""),H[E[t]].decimal);let n=q.poolData&&Object(x.a)(q.poolData[E[t]].balance).div(H[E[t]].precision)._toFixed(2,1);if(a){if(Object(x.a)(c).lte(0))return s(Object(x.c)(c)),u(0),void z(b.a.get("buysell.error_msg_1"));Object(x.a)(c).gt(n)&&z(b.a.get("buysell.error_msg_2")),s(Object(x.c)(c)),G({dx:c})}},ce=e=>{let a="--";return a=q.poolData[E[t]].balance,a=Object(x.a)(a).isNaN()?"--":q.poolData[E[t]].balance.div(q.poolData[E[t]].precision),Object(A.jsx)("span",{children:q.poolData&&Object(x.u)(a)})},se=()=>{let{precision:e,balance:a,symbol:s}=q.poolData[E[t]];return a=Object(x.a)(a).div(e),Object(x.cb)(c).eq(0)||Object(x.cb)(c).isNaN()?(z(b.a.get("error.e1")),!0):Object(x.cb)(c).gt(a)?(z(b.a.get("error.e2",{token:s})),!0):2===C&&(!D||Number(D)<.1||Number(D)>50)?(z(b.a.get("error.e5")),!0):(z(""),!1)};Object(l.useEffect)((()=>{W&&se()}),[t,n,c,C,D]);const ne=()=>{let e=q.poolData&&Object(x.a)(q.poolData[E[t]].balance).div(H[E[t]].precision);ae(e)},oe=e=>{!W&&Y(!0),T(e),2!==e&&B("")},le=e=>{!W&&Y(!0);const{valid:t,str:a}=Object(x.T)(e,10);if(t)if(""===a)B("");else if(Object(x.a)(a).lte(100)){var c;let e=a,t=a.split(".");(null===(c=t[1])||void 0===c?void 0:c.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),B(e)}},ie=()=>{const e=()=>{let e=t,a=n;return M&&([e,a]=[a,e]),Object(A.jsx)(A.Fragment,{children:E[e].toUpperCase()+"/"+E[a].toUpperCase()})},a=Object(_.useCurrentTheme)();return Object(A.jsxs)("p",{className:"exchang-rate-text mt-20",children:[Object(A.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[b.a.get("buysell.exchange_rate",{symbol:"3pool LP"})+" ",Object(A.jsx)(e,{})]}),Object(A.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:"dark"===a?O.a:g.a,onClick:Q}),Object(A.jsxs)("span",{children:["(",b.a.get("buysell.including_fees"),"): ",-1===P?b.a.get("buysell.not_available"):P]})]})},re=()=>{const a=async()=>{if(!F)try{let a=2!==C?C:D?Object(x.a)(D).div(100):0,s=Object(x.a)(k).times(Object(x.a)(1).minus(Object(x.a)(a)))._toIntegerDown()._toHex(),o=t,l=n,i=Object(x.cb)(c).times(H[E[o]].precision)._toIntegerDown()._toHex();const b={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(x.u)(Object(x.cb)(c)),fromToken:E[o].toUpperCase(),toValue:Object(x.u)(Object(x.cb)(r)),toToken:E[l].toUpperCase()}};let d=await Z.toExchange(o,l,i,s,b,[["pool/updateCurrencyData"]]);d&&(setTimeout((()=>{q.getBalanceInfo()}),5e3),e.onSubmit&&e.onSubmit(d))}catch(a){console.log("sellSubmit: ",a)}};return Object(A.jsx)(A.Fragment,{children:F?Object(A.jsx)(y.a,{styleName:"mt-40",type:"single",disabled:!0,info:b.a.get("sell_btn")}):Object(A.jsx)(y.a,{styleName:"mt-40",type:"single",info:b.a.get("sell_btn"),onClick:async()=>{if(J.isConnected){if(!W&&Y(!0),!F){if(se())return}if(!F)try{let e=(await Object(f.Tb)(window.defaultAccount,[H[E[t]].token],[K]))[K].allowance;const{approveStatus:c}=q.poolData[E[t]];if(e.gt(0)||c)a();else{const e={action:"approve",title:"deposit.approve_token",obj:{value:R[t].toUpperCase()},continuous:!0};if(!await Z.approveToken(H[E[t]].token,K,e,[["pool/getBalanceInfo"]]))return;q.poolData[E[t]].approveStatus=2,a()}}catch(e){console.log("exchangeBefore: ",e)}}else z(b.a.get("buysell.error_msg_3"))}})})},be=e=>{let{direction:a="left"}=e,c=R;return Object(A.jsx)("div",{className:"flex start mb-16 pc-input-box",children:c.map((e=>{const c=h.b[e]||p.default,s="left"===a?t:n;return Object(A.jsx)(v.a,{id:e,checked:s===H[e].index,tokenLogo:c,symbol:H[e].symbol,onChange:(t,c)=>{"left"===a?ee(H[e].index):te(H[e].index)}})}))})},de=()=>Object(A.jsx)("span",{className:"exchange-alt",onClick:()=>X()}),ue=Object(S.default)(S.isMobileOnlyMedia);return Object(A.jsx)(o.a,{children:()=>Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"exchange-box",children:[Object(A.jsx)(be,{direction:"left"},"left"),Object(A.jsxs)("div",{className:"input-block",children:[Object(A.jsxs)("div",{className:"flex",children:[Object(A.jsx)("div",{className:"input-number",children:Object(A.jsx)(j.a,{className:"input",value:c,onChange:e=>ae(e.target.value)})}),Object(A.jsx)("span",{className:"max-btn",onClick:ne,children:b.a.get("sunSwapV3.swap.input_from_max")})]}),Object(A.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(A.jsx)("span",{children:b.a.get("sunSwapV3.swap.input_from_balance")})," ",ce(q.poolData)]})]}),Object(A.jsxs)("div",{className:"flex",children:[Object(A.jsx)(de,{}),!ue&&Object(A.jsx)("div",{className:"flex start",children:Object(A.jsx)(w.a,{type:"exchange",slippage:C,customSlippage:D,CUSTOM_SLIPPAGE:2,onChangeSlippage:e=>{oe(Number(e))},onChangeCustomSlippage:e=>{T(2),le(e)}})})]}),Object(A.jsx)(be,{direction:"right"},"right"),Object(A.jsxs)("div",{className:"input-block",children:[Object(A.jsx)("div",{className:"input-number",children:Object(A.jsx)(j.a,{disabled:!0,className:"input",value:r})}),Object(A.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(A.jsx)("span",{children:b.a.get("sunSwapV3.swap.input_from_balance")})," ",ce(q.poolData)]})]}),Object(A.jsx)(ie,{}),ue&&Object(A.jsx)("div",{className:"flex start",children:Object(A.jsx)(w.a,{type:"exchange",slippage:C,customSlippage:D,CUSTOM_SLIPPAGE:2,onChangeSlippage:e=>{oe(Number(e))},onChangeCustomSlippage:e=>{T(2),le(e)}})})]}),Object(A.jsx)(re,{}),F&&Object(A.jsx)("div",{className:"error-content mt-12",children:Object(A.jsx)("div",{className:"error-tip",children:F})})]})})}var N=a(935),k=a(979),L=a(981),C=a(942),T=a(52),D=a(923),B=a(918),I=a(914),U=a(917),F=a(943);const z=e=>{let{onSubmit:t,pageList:a,tabPaneKey:n,isConnected:o}=e;return Object(A.jsxs)(c.a,{...B.a.row,children:[Object(A.jsxs)(s.a,{...B.a.colLeft,children:[Object(A.jsx)(I.a,{list:a,activeKey:n[0]}),o?Object(A.jsx)("div",{className:"window-for-tabs-pane",children:Object(A.jsx)(P,{onSubmit:t})}):Object(A.jsx)(U.a,{})]}),Object(A.jsx)(s.a,{...B.a.colRight,children:Object(A.jsx)(N.a,{})})]})},M=e=>Object(A.jsx)("span",{children:E[e].tabTitle}),{tabChangeLog:V,tabSubmitLog:H}=Object(C.a)({childPage:T.j.liquidity_old3pool}),E={1:{title:b.a.get("banner.title_deposit"),content:b.a.get("banner.desc_deposit"),tabTitle:b.a.get("header.deposit")},2:{title:b.a.get("banner.title_withdraw"),content:b.a.get("banner.desc_withdraw"),tabTitle:b.a.get("header.withdraw")},3:{title:b.a.get("banner.title_1"),content:b.a.get("banner.desc_1"),tabTitle:b.a.get("header.swap")}},K=e=>{let[,t,a]=window.location.hash.split("/");const c=window.localStorage.getItem("lang");return t.includes("usdc")&&(t="en-US"===c?"USDC Old":"Old USDC"),t.includes("3pool")&&(t="Old 3pool"),t.includes("busd")&&(t="en-US"===c?"Old BUSD":b.a.get("buysell.busd_2pool")),t.includes("usdd_usd_2pool")&&(t="en-US"===c?"Old USDD":b.a.get("buysell.usdd_2pool")),t.includes("usdj_2pool")&&(t="en-US"===c?"Old USDJ":b.a.get("buysell.usdj_2pool")),t.includes("tusd_2pool")&&(t="en-US"===c?"Old TUSD":b.a.get("buysell.tusd_2pool")),{title:t,tabKey:[{deposit:"1",withdraw:"2",swap:"3"}[a]||"1"]}};t.default=()=>{const{title:e,tabKey:t}=K(),[a,c]=i.a.useState(t),{mountedActions:s,instantActions:r}=(()=>{let e=null;const t=Object(o.d)((()=>d.default.pool)),a=Object(o.d)((()=>d.default.network)),c=()=>{t.getSwapBalance(),t.getVirtualPrice(),t.getVolData()};return i.a.useEffect((()=>()=>{clearInterval(e)}),[]),{mountedActions:async()=>{t.getUserLp(),await t.getBalanceInfo(),e||(e=setInterval((async()=>{c(),t.getUserLp(),await t.getBalanceInfo()}),a.defaultIntervalSec))},instantActions:c}})(),j=Object(l.useCallback)((e=>{let{value:t}=e;c(t),V(t)}),[]),p=()=>{const e=window.localStorage.getItem("lang")||b.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},O=Object(l.useMemo)((()=>({shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:p})),[]),g=Object(l.useMemo)((()=>B.b.map((e=>({...e,handler:j})))),[j]),m=Object(o.d)((()=>d.default.network));return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(u.a,{mountedActions:s,instantActions:r,subNavProps:O}),Object(A.jsxs)("div",{className:"main-page-content",children:[Object(A.jsx)(D.a,{title:"".concat(e," ").concat(E[a[0]].title),subTitle:E[a[0]].content}),Object(A.jsxs)("div",{className:"pool-tabs",children:[Object(A.jsxs)(n.a,{activeKey:a[0],centered:!0,onChange:j,renderTabBar:()=>null,children:[Object(A.jsx)(n.a.TabPane,{tab:M("1"),children:Object(A.jsx)(k.a,{onSubmit:()=>H("1"),pageList:g,tabPaneKey:a})},"1"),Object(A.jsx)(n.a.TabPane,{tab:M("2"),children:Object(A.jsx)(L.a,{onSubmit:()=>H("2"),pageList:g,tabPaneKey:a})},"2"),Object(A.jsx)(n.a.TabPane,{tab:M("3"),children:Object(A.jsx)(z,{onSubmit:e=>H("3",{event_label:e,txid:e}),pageList:g,tabPaneKey:a,isConnected:m.isConnected})},"3")]}),Object(A.jsx)(F.a,{name:"type",cb:j,valueFlag:!0})]})]})]})}}}]);